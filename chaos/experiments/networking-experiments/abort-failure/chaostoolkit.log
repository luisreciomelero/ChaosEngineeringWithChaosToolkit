[36m[2021-04-13 09:04:26 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 09:04:26 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 09:04:26 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 09:04:26 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 09:04:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:04:26 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:26 DEBUG] [workspace:85][39m The ChaosIQ workspace file could not be found at '.chaosiq'.
[36m[2021-04-13 09:04:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:04:26 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:26 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:04:26 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 09:04:26 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 09:04:26 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:04:26 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:04:26 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:04:27 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 09:04:27 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:04:27 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:04:27 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 09:04:27 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:04:27 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:04:27 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:04:27 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 09:04:27 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 09:04:27 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:29 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/46d088bd-24da-4644-bce5-db5f2c8b9a3a
[36m[2021-04-13 09:04:29 DEBUG] [workspace:147][39m Registering experiment 'abort-failure-mg.yaml' with ID '5d271440-bde4-4a3e-96fd-c780781a553f' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-13 09:04:29 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 09:04:29 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 09:04:29 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 09:04:29 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 09:04:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:04:29 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:31 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 09:04:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:04:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:04:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:04:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 13 Apr 2021 07:04:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:04:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 07:04:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 13 Apr 2021 07:04:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 09:04:48 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 09:04:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:04:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:50 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 09:04:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:04:50 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:53 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 09:04:53 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 09:04:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:04:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:04:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T07:03:55Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T07:04:53Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '16020', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 07:04:53 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-13 09:04:53 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 09:05:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:05:05 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:06 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 09:05:06 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:05:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:05:06 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:05:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:05:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 07:05:10 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 09:05:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:05:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:05:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 09:05:13 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 09:05:13 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 09:05:13 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 09:05:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:05:13 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:15 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 09:05:15 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 09:05:15 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 09:05:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:14:50 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 09:14:50 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 09:14:50 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:51 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 09:14:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:14:51 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 09:14:51 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 09:14:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:14:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:14:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:14:51 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 09:14:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:14:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:14:51 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 09:14:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:14:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:14:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:14:51 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 09:14:51 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:14:53 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/06dddc56-4975-4718-9cb9-07b898a2d19c
[36m[2021-04-13 09:14:53 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 09:14:53 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 09:14:53 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 09:14:53 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 09:14:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:14:53 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:55 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 09:14:55 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:14:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:14:55 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:14:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:14:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:14:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 07:14:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:14:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:14:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 07:15:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:05 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 07:15:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:15:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 07:15:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 09:15:13 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 09:15:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:13 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:14 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 09:15:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:15:14 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:18 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 09:15:18 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 09:15:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:15:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:15:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T07:14:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T07:15:18Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '16695', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 07:15:18 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-13 09:15:18 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 09:15:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:15:30 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:31 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 09:15:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:15:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 07:15:34 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 09:15:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:36 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 09:15:38 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 09:15:38 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 09:15:38 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 09:15:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:15:38 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:40 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 09:15:40 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 09:15:40 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 09:15:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 20:27:11 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 20:27:11 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 20:27:11 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:12 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 20:27:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 20:27:12 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 20:27:12 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 20:27:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 20:27:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 20:27:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 20:27:12 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 20:27:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 20:27:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 20:27:12 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 20:27:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 20:27:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 20:27:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 20:27:12 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 20:27:12 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:14 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6f831db7-d0d8-426c-b397-9ea80bf5a88c
[36m[2021-04-13 20:27:14 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 20:27:14 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 20:27:14 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 20:27:14 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 20:27:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 20:27:14 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:16 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 20:27:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 20:27:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 18:27:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 18:27:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 18:27:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '17', 'date': 'Tue, 13 Apr 2021 18:27:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 18:27:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 20:27:34 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 20:27:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:35 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 20:27:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 20:27:35 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:39 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 20:27:39 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 20:27:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 20:27:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 20:27:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T18:26:50Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T18:27:39Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '17633', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 18:27:39 GMT', 'Content-Length': '1726'}}'
[32m[2021-04-13 20:27:39 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 20:27:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 20:27:51 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:52 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 20:27:52 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 20:27:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:52 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '17', 'date': 'Tue, 13 Apr 2021 18:27:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 18:27:58 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 20:27:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:28:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:28:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:28:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 20:28:02 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 20:28:02 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 20:28:02 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 20:28:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 20:28:02 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:28:04 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 20:28:04 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 20:28:04 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 20:28:04 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:42:30 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:42:30 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:42:30 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:42:31 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:42:31 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:31 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:42:31 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:42:31 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:42:31 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:42:31 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:42:31 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:42:31 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:42:37 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:42:37 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:42:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:42:37 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:42:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:42:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:42:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:42:37 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:42:37 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:42:37 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6534e656-2356-42f5-9c46-46f1c0d7a187
[36m[2021-04-13 21:42:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:42:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:42:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:42:40 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:42:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:42:40 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:43 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:42:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:42:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:42:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:42:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 19:42:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 19:42:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 19:42:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 19:42:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:43:01 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:43:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:02 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 21:43:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:43:02 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:06 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 21:43:06 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 21:43:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:43:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:43:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"delegate":{"name":"mg-vs","namespace":"default"},"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "}},{"delegate":{"name":"ms-read-vs","namespace":"default"},"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "}}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 1, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T19:38:11Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '22155', 'uid': '08f80ee0-8d2d-46fb-879f-6f3d67eb790d'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'delegate': {'name': 'mg-vs', 'namespace': 'default'}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}}, {'delegate': {'name': 'ms-read-vs', 'namespace': 'default'}, 'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 19:43:06 GMT', 'Content-Length': '1462'}}'
[32m[2021-04-13 21:43:06 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 21:43:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:43:18 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:19 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 21:43:19 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:43:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:19 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '32', 'date': 'Tue, 13 Apr 2021 19:43:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '45', 'date': 'Tue, 13 Apr 2021 19:43:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '90', 'date': 'Tue, 13 Apr 2021 19:43:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '47', 'date': 'Tue, 13 Apr 2021 19:43:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 19:43:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:43:38 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:43:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:40 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 21:43:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:43:40 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:42 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 21:43:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:43:42 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:43 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-13 21:43:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:43:43 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:47 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:43:47 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:43:47 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:43:47 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:46:38 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:46:38 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:46:38 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:46:39 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:46:39 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:39 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:46:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:46:39 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:46:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:46:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:46:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:46:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:46:42 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:46:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:46:42 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:46:42 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:46:42 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:46:42 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:46:42 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:46:42 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:46:42 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:46:42 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:45 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/92a1ef6e-702d-436c-949a-831e9f844579
[36m[2021-04-13 21:46:45 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:46:45 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:46:45 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:46:45 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:46:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:46:45 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:46 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:46:46 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:46:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:46:46 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 13 Apr 2021 19:46:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 19:46:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 19:46:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Tue, 13 Apr 2021 19:46:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:47:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:47:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:47:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:47:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:47:04 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:47:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:04 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:06 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 21:47:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:47:06 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:09 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 21:47:09 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 21:47:09 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:47:09 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:47:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T19:38:11Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T19:47:09Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '22756', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 19:47:09 GMT', 'Content-Length': '1393'}}'
[32m[2021-04-13 21:47:09 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 21:47:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:47:21 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:23 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 21:47:23 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:47:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:23 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:47:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:47:26 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:47:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:47:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:28 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 21:47:29 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 21:47:29 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 21:47:29 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 21:47:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:47:29 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:32 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:47:32 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:47:32 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:47:32 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:48:37 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:48:37 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:48:37 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:38 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:48:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:48:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:48:38 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:48:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:48:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:48:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:48:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:48:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:48:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:48:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:48:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:48:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:48:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:48:38 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:48:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/45784375-0e4a-4ed3-8854-d65b3bdd3b4d
[36m[2021-04-13 21:48:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:48:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:48:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:48:40 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:48:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:48:41 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:42 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:48:42 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:48:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:48:42 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:48:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:48:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:48:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:48:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:48:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:48:48 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:48:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:48:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:48:50 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 21:48:51 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 21:48:51 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-13 21:48:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:48:51 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:54 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:48:54 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:54 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:48:54 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:55:09 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:55:09 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:55:09 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:55:10 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:55:10 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:10 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:55:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:55:10 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:55:10 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:55:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:55:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:55:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:55:14 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:55:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:55:14 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:55:14 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:55:14 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:55:14 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:55:14 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:55:14 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:55:14 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:14 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:16 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e7d05578-0eec-481e-9eaf-382a062f9705
[36m[2021-04-13 21:55:16 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:55:16 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:55:16 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:55:16 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 21:55:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:55:16 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:18 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:55:18 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:55:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:55:18 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:55:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:55:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:55:21 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:55:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:55:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:55:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:55:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-13 21:55:24 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-13 21:55:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 21:55:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 21:55:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:55:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:25 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 21:55:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:55:25 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:27 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-13 21:55:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:55:27 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:55:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:55:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:00:10 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:00:10 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:00:10 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:11 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:00:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:00:11 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:00:11 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:00:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:00:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:00:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:00:11 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:00:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:00:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:00:11 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:00:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:00:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:00:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:00:11 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:00:11 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:13 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/dccad936-153f-483f-acac-45a550c6f793
[36m[2021-04-13 22:00:13 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:00:13 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:00:13 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:00:13 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:00:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:00:13 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:00:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:00:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 20:00:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:00:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 13 Apr 2021 20:00:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:00:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:00:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:00:32 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:00:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:32 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:34 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:00:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:00:34 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:37 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:00:37 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:00:37 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:00:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:00:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:00:02Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:00:39Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23642', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:00:39 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:00:39 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:00:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:00:42 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:43 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:00:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:00:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:00:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:00:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:00:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:00:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:01:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:00:59 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:01:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:01:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:01:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:01:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:01:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:01:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:01:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:01:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:01:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:01:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:01:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:01:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:06 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:01:06 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:01:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:01:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:01:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:01:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:01:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:01:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:02:36 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:02:36 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:02:36 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:02:37 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:02:37 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:02:37 ERROR] [cli:164][39m Path "abort-failure-rollback-mg.yaml.yaml" does not exist.
[36m[2021-04-13 22:02:37 DEBUG] [cli:165][39m Path "abort-failure-rollback-mg.yaml.yaml" does not exist.
[36m[2021-04-13 22:03:02 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:03:02 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:03:02 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:03:03 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:03:03 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:03:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:03:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:03:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:03:03 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:03:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:03:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:03:03 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:03:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:03:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:03:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:03:03 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:03:03 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:05 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e97fb0da-a94f-4665-a765-4abc198d20ac
[36m[2021-04-13 22:03:05 DEBUG] [workspace:147][39m Registering experiment 'abort-failure-rollback-mg.yaml' with ID 'c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-13 22:03:05 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:03:05 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:03:05 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:03:05 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:03:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:03:05 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:07 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:03:07 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:03:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:07 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 20:03:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 20:03:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:03:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:03:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 13 Apr 2021 20:03:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:03:25 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:03:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:25 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:27 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:03:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:03:27 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:30 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:03:30 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:03:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23823', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:03:30 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:03:30 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:03:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:03:33 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:34 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:03:34 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:03:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:34 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:03:37 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:03:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:39 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:03:41 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:03:41 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:03:41 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:03:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:03:41 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:43 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-13 22:03:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:44 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-13 22:03:44 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:03:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 7, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23839', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:03:44 GMT', 'Content-Length': '1398'}}'
[36m[2021-04-13 22:03:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:03:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:47 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:03:47 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:03:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:03:47 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:50 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:03:50 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:50 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:03:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:04:10 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:04:10 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:04:10 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:11 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:04:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:04:11 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:04:11 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:04:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:04:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:04:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:04:11 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:04:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:04:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:04:11 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:04:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:04:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:04:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:04:11 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:04:11 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:14 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/72489028-3971-4f1c-922d-4a7d0a778de7
[36m[2021-04-13 22:04:14 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:04:14 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:04:14 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:04:14 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:04:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:04:14 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:04:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:04:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 13 Apr 2021 20:04:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 20:04:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:04:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 13 Apr 2021 20:04:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '13', 'date': 'Tue, 13 Apr 2021 20:04:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:04:34 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:04:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:36 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:04:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:04:36 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:39 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:04:39 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:04:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:04:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:04:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23899', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:04:39 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:04:39 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:04:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:04:42 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:44 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:04:44 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:04:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:44 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:04:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:04:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:04:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:04:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:05:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:04:59 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:05:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:05:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:05:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:05:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:05:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:05:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:05:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:05:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:05:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:05:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:05:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:05:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:07 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:05:07 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:05:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:05:07 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:05:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:05:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:05:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:05:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:09:09 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:09:09 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:09:09 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:10 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:09:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:09:10 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:09:10 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:09:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:09:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:09:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:09:10 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:09:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:09:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:09:10 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:09:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:09:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:09:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:09:10 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:09:10 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:13 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/c0fa3957-d5c1-488e-a8b3-ba552da1d77e
[36m[2021-04-13 22:09:13 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:09:13 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:09:13 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:09:13 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:09:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:09:13 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:14 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:09:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:09:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:09:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:09:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Tue, 13 Apr 2021 20:09:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:09:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:09:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:09:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:09:20 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:09:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:09:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:09:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:09:24 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:09:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:09:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:09:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:09:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:25 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:09:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:09:25 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:27 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-13 22:09:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:09:27 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:09:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:09:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:04:35 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:04:35 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:04:35 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:04:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:04:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:04:39 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:04:39 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:39 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:04:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:04:39 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:04:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:04:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:04:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:04:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:04:42 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:04:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:04:42 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:04:42 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:04:42 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:04:42 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:04:42 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:04:42 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:04:42 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:04:42 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:04:47 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/289b4afe-db74-4624-a5e6-c61e67bca842
[36m[2021-04-14 00:04:47 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:04:47 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:04:47 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:04:47 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:04:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:04:47 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:51 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:04:51 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:04:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:04:51 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:04:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:04:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:04:59 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:05:00 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:05:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:05:04 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:05:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:05:04 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:05:08 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:05:08 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:05:08 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:05:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:05:08 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:11 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:05:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:15 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:05:15 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:05:15 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:05:16 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:05:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T21:43:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '5659', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:05:16 GMT', 'Content-Length': '1470'}}'
[36m[2021-04-14 00:05:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:05:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:05:20 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:24 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:05:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:05:24 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:05:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:05:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:05:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:05:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:06:45 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:06:45 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:06:46 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:49 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:06:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:06:49 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:06:49 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:06:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:06:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:06:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:06:49 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:06:49 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:06:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:06:49 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:06:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:06:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:06:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:06:49 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:06:49 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:06:55 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/9f7c53fc-d4ea-4c8c-acdd-8f3f15a9411e
[36m[2021-04-14 00:06:55 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:06:55 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:06:55 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:06:55 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:06:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:06:55 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:59 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:06:59 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:06:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:06:59 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:07:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:07:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:07:07 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:07:07 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:07:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:07:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:07:11 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:07:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:07:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:07:15 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:07:15 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:07:15 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:07:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:07:15 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:07:19 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:07:23 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-14 00:07:23 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:07:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:07:23 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:28 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:07:28 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:07:28 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:07:28 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:08:58 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:08:58 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:08:58 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:09:01 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:09:01 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:01 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:09:01 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:09:01 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:09:01 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:09:01 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:09:01 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:09:01 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:09:02 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:09:02 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:09:02 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:09:02 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:09:02 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:09:02 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:09:02 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:09:02 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:09:02 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:02 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:09:06 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/0ad0c770-34ff-49c4-b4ed-47ccf15b32d3
[36m[2021-04-14 00:09:07 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:09:07 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:09:07 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:09:07 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:09:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:09:07 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:11 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:09:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:09:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:09:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:09:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:09:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:09:19 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:09:19 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:09:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:09:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:09:23 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:09:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:09:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:09:27 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:09:27 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:09:27 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:09:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:09:27 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:09:29 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:09:34 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-14 00:09:34 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:09:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:09:34 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:39 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:09:39 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:39 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:09:39 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:19:18 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:19:18 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:19:18 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:19:21 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:19:21 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:21 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:19:21 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:19:21 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:19:21 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:19:21 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:19:21 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:19:21 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:19:21 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:19:22 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:19:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:19:22 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:19:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:19:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:19:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:19:22 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:19:22 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:19:22 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:27 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/89e43115-3332-440a-9263-4942e4f87b6b
[36m[2021-04-14 00:19:27 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:19:27 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:19:27 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:19:27 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:19:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:19:27 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:31 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:19:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:19:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:19:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:19:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 404, 'headers': {'date': 'Tue, 13 Apr 2021 22:19:39 GMT', 'server': 'istio-envoy', 'content-length': '0'}, 'body': ''}'
[36m[2021-04-14 00:19:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:19:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:19:43 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:19:47 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:19:47 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:19:47 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:19:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:19:47 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:50 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:19:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:54 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:19:54 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:19:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:19:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:19:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 3, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:17:07Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '6446', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:19:54 GMT', 'Content-Length': '1468'}}'
[36m[2021-04-14 00:19:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:19:59 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:20:03 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:20:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:20:03 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:20:08 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:20:08 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:20:08 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:20:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:30:55 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:30:55 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:30:55 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:30:58 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:30:58 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:30:58 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:30:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:30:58 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:30:58 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:30:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:30:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:30:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:30:58 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:30:58 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:30:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:30:58 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:30:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:30:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:30:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:30:58 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:30:59 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:30:59 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:04 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/38bbab35-6c64-47d6-9d67-acd868aa0529
[36m[2021-04-14 00:31:04 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:31:04 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:31:04 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:31:04 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:31:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:31:04 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:08 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:31:08 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:31:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:31:08 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Tue, 13 Apr 2021 22:31:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 13 Apr 2021 22:31:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:31:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 22:31:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 22:31:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-14 00:31:52 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-14 00:31:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:31:52 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:56 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-14 00:31:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:31:56 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:04 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-14 00:32:04 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:32:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:22:11Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '7428', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:32:04 GMT', 'Content-Length': '1460'}}'
[32m[2021-04-14 00:32:04 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-14 00:32:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:32:10 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:14 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-14 00:32:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:32:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:32:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:32:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:32:22 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:32:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:32:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:32:26 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:32:30 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:32:30 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:32:30 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:32:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:32:30 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:34 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:32:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:38 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:32:38 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:32:38 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:40 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:22:11Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '7465', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:32:40 GMT', 'Content-Length': '1397'}}'
[36m[2021-04-14 00:32:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:32:45 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:49 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-14 00:32:49 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-14 00:32:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:32:49 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:54 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:32:54 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:32:54 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:32:54 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:50:29 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:50:29 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:50:29 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:50:33 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:50:33 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:33 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:50:33 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:50:33 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:50:33 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:50:33 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:50:33 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:50:33 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:50:34 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:50:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:50:34 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:50:34 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:50:34 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:50:34 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:50:34 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:50:34 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:50:34 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:50:34 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:50:39 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/37a7620e-96d3-4e6a-964d-9814a4d7e7ba
[36m[2021-04-14 00:50:39 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:50:39 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:50:39 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:50:39 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:50:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:50:39 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:43 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:50:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:50:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:50:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:50:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:50:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 13 Apr 2021 22:50:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:50:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:50:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 13 Apr 2021 22:51:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 13 Apr 2021 22:51:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 22:51:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:51:25 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:51:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:51:30 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:51:34 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:51:34 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:51:34 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:51:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:51:34 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:38 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:51:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:43 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:51:43 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:51:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:51:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:51:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}},"delay":{"fixedDelay":"5s","percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8747', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:51:43 GMT', 'Content-Length': '1534'}}'
[36m[2021-04-14 00:51:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:51:47 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:50 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:51:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:51:50 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:51:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:51:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:51:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:52:13 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:52:13 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:52:13 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:52:16 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:52:16 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:16 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:52:16 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:52:16 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:52:16 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:52:16 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:52:16 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:52:16 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:52:17 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:52:17 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:52:17 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:52:17 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:52:17 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:52:17 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:52:17 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:52:17 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:52:17 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:17 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:22 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/4c61dc85-744f-42eb-9b0d-b997b0454527
[36m[2021-04-14 00:52:22 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:52:22 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:52:22 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:52:22 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:52:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:52:22 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:26 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:52:26 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:52:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:52:26 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:52:29 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:52:33 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-14 00:52:33 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:52:33 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:52:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:52:33 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:37 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:52:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:52:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:41 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:52:41 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:52:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:52:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:52:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}},"delay":{"fixedDelay":"5s","percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8810', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:52:41 GMT', 'Content-Length': '1552'}}'
[36m[2021-04-14 00:52:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:52:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:52:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:50 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:52:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:52:50 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:52:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:52:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:53:17 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:53:17 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:53:17 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:20 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:53:20 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:53:20 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:53:20 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:53:20 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:53:20 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:53:20 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:53:20 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:53:20 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:53:20 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:53:20 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:53:20 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:53:20 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:53:20 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:53:20 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:53:20 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:26 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/2c2648ed-232d-4165-8326-bd2cd45f627e
[36m[2021-04-14 00:53:26 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:53:26 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:53:26 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:53:26 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:53:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:53:26 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:30 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:53:30 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:53:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:53:30 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:53:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:53:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Tue, 13 Apr 2021 22:53:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 22:54:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:54:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:54:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 13 Apr 2021 22:54:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:54:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:14 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-14 00:54:14 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-14 00:54:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:14 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:18 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-14 00:54:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:54:19 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:27 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-14 00:54:27 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:54:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:54:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:54:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 9, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8930', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:54:27 GMT', 'Content-Length': '1460'}}'
[32m[2021-04-14 00:54:27 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-14 00:54:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:54:32 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:36 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-14 00:54:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:54:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:54:44 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:54:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:54:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:54:52 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:54:52 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:54:52 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:54:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:54:52 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:57 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:54:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:55:02 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:55:02 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:55:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:55:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:55:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 10, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8978', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:55:02 GMT', 'Content-Length': '1398'}}'
[36m[2021-04-14 00:55:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:55:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:55:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:55:06 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:55:10 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-14 00:55:10 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-14 00:55:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:55:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:55:16 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:55:16 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:55:16 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:55:16 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:23:21 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:23:21 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:23:21 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:23:22 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:23:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:23:22 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:23:22 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:22 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:23:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:23:22 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:23:22 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:23:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:23:22 DEBUG] [caching:42][39m Clearing activities cache
[31m[2021-04-18 21:23:22 ERROR] [cli:174][39m Configuration makes reference to an environment key that does not exist: INGRESS_HOST
[36m[2021-04-18 21:23:22 DEBUG] [cli:175][39m Configuration makes reference to an environment key that does not exist: INGRESS_HOST
[36m[2021-04-18 21:23:48 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:23:48 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:23:48 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:23:49 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:23:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:23:49 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:23:49 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:49 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:23:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:23:49 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:23:49 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:23:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:23:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:23:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:23:50 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-18 21:23:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:23:50 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:23:50 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-18 21:23:50 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:23:50 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:23:50 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:23:50 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-18 21:23:52 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-18 21:23:52 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:23:54 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/db039df9-198d-4fc1-98ad-ca168795d7ce
[36m[2021-04-18 21:23:54 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-18 21:23:54 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-18 21:23:54 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-18 21:23:54 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-18 21:23:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:23:54 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:56 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-18 21:23:56 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:23:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:23:56 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:23:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:23:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:23:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:23:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '30', 'date': 'Sun, 18 Apr 2021 19:23:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:23:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:23:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:24:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-18 21:24:01 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[32m[2021-04-18 21:24:01 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-18 21:24:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:24:01 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:03 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-18 21:24:03 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-18 21:24:03 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-18 21:24:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:24:16 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:24:16 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:24:16 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:24:17 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:24:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:24:17 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:24:17 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:17 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:24:17 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:24:17 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:24:17 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:24:17 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:24:17 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:24:17 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:24:17 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-18 21:24:17 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:24:17 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:24:17 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-18 21:24:17 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:24:17 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:24:17 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:24:17 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-18 21:24:17 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-18 21:24:17 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:19 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/002e76c9-0ddd-455d-a7ba-56eddbc0c220
[36m[2021-04-18 21:24:19 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-18 21:24:19 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-18 21:24:19 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-18 21:24:19 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-18 21:24:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:24:19 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:21 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-18 21:24:21 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:24:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:24:21 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Sun, 18 Apr 2021 19:24:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:24:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Sun, 18 Apr 2021 19:24:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:24:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Sun, 18 Apr 2021 19:24:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:24:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Sun, 18 Apr 2021 19:24:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:24:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Sun, 18 Apr 2021 19:24:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-18 21:24:38 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-18 21:24:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:24:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:40 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-18 21:24:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:24:40 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:43 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-18 21:24:43 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:24:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:24:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:24:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '39607', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:24:45 GMT', 'Content-Length': '1968'}}'
[32m[2021-04-18 21:24:45 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-18 21:24:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:24:52 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:54 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-18 21:24:54 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:24:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:24:54 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:24:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:24:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Sun, 18 Apr 2021 19:24:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:24:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:24:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:24:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:24:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:25:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:25:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Sun, 18 Apr 2021 19:25:00 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-18 21:25:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:25:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:25:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:25:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:25:02 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-18 21:25:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-18 21:25:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-18 21:25:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-18 21:25:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:25:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:25:05 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-18 21:25:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:25:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:25:06 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-18 21:25:06 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:25:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:25:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:25:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '39630', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:25:07 GMT', 'Content-Length': '1905'}}'
[36m[2021-04-18 21:25:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:25:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:25:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:25:09 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:25:10 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-18 21:25:10 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-18 21:25:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:25:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:25:13 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-18 21:25:13 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-18 21:25:13 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-18 21:25:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:32:05 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:32:05 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:32:05 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:32:08 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:32:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:32:08 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:32:08 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:08 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:32:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:32:08 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:32:08 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:32:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:32:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:32:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:32:08 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-18 21:32:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:32:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:32:08 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-18 21:32:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:32:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:32:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:32:08 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-18 21:32:08 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-18 21:32:08 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:13 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/9458c484-ead1-4ca9-a721-1e589c9b25fb
[36m[2021-04-18 21:32:13 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-18 21:32:13 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-18 21:32:13 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-18 21:32:13 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-18 21:32:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:32:13 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:18 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-18 21:32:18 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:32:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:32:18 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:32:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Sun, 18 Apr 2021 19:32:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:32:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:32:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:32:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Sun, 18 Apr 2021 19:32:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:32:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:32:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:32:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Sun, 18 Apr 2021 19:32:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:32:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:32:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:32:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Sun, 18 Apr 2021 19:32:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:32:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:32:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:32:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:32:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:32:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Sun, 18 Apr 2021 19:32:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:32:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:32:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-18 21:33:02 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-18 21:33:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:33:02 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:33:06 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-18 21:33:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:33:06 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:33:14 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-18 21:33:14 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:33:14 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:33:14 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:33:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40150', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:33:15 GMT', 'Content-Length': '1968'}}'
[32m[2021-04-18 21:33:15 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-18 21:33:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:33:24 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:28 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-18 21:33:28 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:33:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:33:28 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:33:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:33:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Sun, 18 Apr 2021 19:33:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:33:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:33:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:33:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:33:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Sun, 18 Apr 2021 19:33:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:33:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:33:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:33:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:33:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Sun, 18 Apr 2021 19:33:51 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-18 21:33:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:33:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:33:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:33:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:33:56 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-18 21:34:00 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-18 21:34:00 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-18 21:34:00 INFO] [run:809][39m Let's rollback...
[36m[2021-04-18 21:34:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:34:00 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:34:04 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-18 21:34:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:34:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:34:08 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-18 21:34:08 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:34:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:34:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:34:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 7, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40205', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:34:08 GMT', 'Content-Length': '1905'}}'
[36m[2021-04-18 21:34:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:34:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:34:12 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:34:16 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-18 21:34:16 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-18 21:34:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:34:16 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:21 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-18 21:34:21 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-18 21:34:21 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-18 21:34:21 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:34:34 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:34:34 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:34:34 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:34:37 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:34:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:34:37 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:34:37 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:37 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:34:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:34:37 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:34:37 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:34:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:34:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:34:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:34:37 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-18 21:34:37 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:34:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:34:37 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-18 21:34:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:34:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:34:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:34:37 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-18 21:34:37 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-18 21:34:37 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:34:42 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/ac0f35c5-00b9-42ac-8728-79c6ff58b2ea
[36m[2021-04-18 21:34:42 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-18 21:34:42 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-18 21:34:42 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-18 21:34:42 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-18 21:34:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:34:42 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:47 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-18 21:34:47 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:34:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:34:47 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:34:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:34:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:34:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Sun, 18 Apr 2021 19:34:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:34:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:34:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:34:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:34:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:34:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:35:03 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:35:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Sun, 18 Apr 2021 19:35:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:35:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:35:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:35:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:35:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:35:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Sun, 18 Apr 2021 19:35:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:35:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:35:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:35:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:35:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:35:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Sun, 18 Apr 2021 19:35:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:35:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:35:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:35:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:35:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:35:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '41', 'date': 'Sun, 18 Apr 2021 19:35:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:35:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:35:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:35:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-18 21:35:56 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-18 21:35:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:35:56 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:36:03 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-18 21:36:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:36:03 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:36:16 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-18 21:36:16 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:36:16 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:36:16 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:36:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40339', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:36:16 GMT', 'Content-Length': '1968'}}'
[32m[2021-04-18 21:36:16 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-18 21:36:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:36:26 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:30 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-18 21:36:30 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:36:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:36:30 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:36:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:36:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Sun, 18 Apr 2021 19:36:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:36:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:36:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:36:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:36:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Sun, 18 Apr 2021 19:36:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:36:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:36:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:36:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:36:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Sun, 18 Apr 2021 19:36:53 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-18 21:36:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:36:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:36:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:36:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:36:58 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-18 21:37:02 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-18 21:37:02 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-18 21:37:02 INFO] [run:809][39m Let's rollback...
[36m[2021-04-18 21:37:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:37:02 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:37:06 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-18 21:37:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:37:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:37:10 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-18 21:37:10 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:37:10 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:37:10 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:37:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 9, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40397', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:37:10 GMT', 'Content-Length': '1905'}}'
[36m[2021-04-18 21:37:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:37:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:37:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:37:15 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:37:19 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-18 21:37:19 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-18 21:37:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:37:19 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:37:24 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-18 21:37:24 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-18 21:37:24 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-18 21:37:24 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:38:25 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:38:25 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:38:25 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:38:29 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:38:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:38:29 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:38:29 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:29 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:38:29 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:38:29 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:38:29 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:38:29 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:38:29 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:38:29 DEBUG] [secret:92][39m Secrets loaded
[36m[2021-04-18 21:38:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:38:40 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:38:40 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-18 21:38:40 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:38:44 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-18 21:38:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:38:44 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-18 21:38:44 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:44 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-18 21:38:44 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:38:44 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-18 21:38:44 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-18 21:38:44 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:38:44 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:38:44 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:38:44 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-18 21:38:44 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:38:44 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-18 21:38:44 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-18 21:38:44 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-18 21:38:44 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-18 21:38:44 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-18 21:38:44 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-18 21:38:44 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-18 21:38:44 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:38:49 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/d143670a-26af-46fa-8369-fa6bf3016927
[36m[2021-04-18 21:38:49 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-18 21:38:49 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-18 21:38:49 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-18 21:38:49 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-18 21:38:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:38:49 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:54 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-18 21:38:54 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:38:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:38:54 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:38:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:38:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:39:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Sun, 18 Apr 2021 19:39:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:39:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:39:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:39:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Sun, 18 Apr 2021 19:39:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:39:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:14 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:39:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:14 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:39:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Sun, 18 Apr 2021 19:39:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:39:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:39:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:39:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Sun, 18 Apr 2021 19:39:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:39:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:39:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:39:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Sun, 18 Apr 2021 19:39:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-18 21:39:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-18 21:39:38 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-18 21:39:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:39:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:42 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-18 21:39:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:39:42 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:39:50 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-18 21:39:50 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:39:50 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:39:50 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:39:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 10, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40579', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:39:50 GMT', 'Content-Length': '1969'}}'
[32m[2021-04-18 21:39:50 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-18 21:39:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:39:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:39:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-18 21:39:59 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:40:03 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-18 21:40:03 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-18 21:40:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:40:03 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:40:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:40:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:40:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-18 21:40:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Sun, 18 Apr 2021 19:40:10 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-18 21:40:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:40:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:40:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-18 21:40:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-18 21:40:15 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-18 21:40:19 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-18 21:40:19 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-18 21:40:19 INFO] [run:809][39m Let's rollback...
[36m[2021-04-18 21:40:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:40:19 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:40:23 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-18 21:40:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:40:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:40:27 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-18 21:40:27 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-18 21:40:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:40:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-18 21:40:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-18T17:01:05Z', 'generation': 11, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-18T17:01:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-18T19:24:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '40621', 'uid': '64ed6228-d38e-4e5b-981a-8f9a89c399ef'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b0b67926-e590-4f18-a79b-f6bc333f1f4c', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b5138b48-bf62-4b45-a164-0df6206c706d', 'Date': 'Sun, 18 Apr 2021 19:40:27 GMT', 'Content-Length': '1906'}}'
[36m[2021-04-18 21:40:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-18 21:40:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:40:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-18 21:40:31 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-18 21:40:35 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-18 21:40:35 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-18 21:40:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-18 21:40:35 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-18 21:40:40 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-18 21:40:40 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-18 21:40:40 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-18 21:40:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 17:58:29 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 17:58:29 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 17:58:29 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 17:58:30 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 17:58:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 17:58:30 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 17:58:30 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:30 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-20 17:58:30 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 17:58:30 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 17:58:30 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 17:58:30 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 17:58:30 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 17:58:30 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 17:58:30 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 17:58:30 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 17:58:30 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 17:58:30 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 17:58:30 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 17:58:30 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 17:58:30 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 17:58:30 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-20 17:58:30 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 17:58:30 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:58:33 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6c235b13-aa9d-4109-ab95-869ff3416e7d
[36m[2021-04-20 17:58:33 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 17:58:33 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 17:58:33 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 17:58:33 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 17:58:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 17:58:33 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:34 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 17:58:34 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 17:58:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 17:58:34 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:58:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:58:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 17:58:38 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f277e37e670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f277e37e670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f277e37e670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30809/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f277e37e670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-20 17:58:39 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30809/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f277e37e670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-20 17:58:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:58:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 17:58:41 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 17:58:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 17:58:41 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 17:58:43 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 17:58:43 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 17:58:43 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 17:58:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 17:58:43 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:58:44 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-20 17:58:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:58:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:58:46 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-20 17:58:46 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 17:58:46 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 17:58:46 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 17:58:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 1, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '1295', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 15:58:46 GMT', 'Content-Length': '1945'}}'
[36m[2021-04-20 17:58:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:58:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 17:58:47 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:58:49 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 17:58:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 17:58:49 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:58:51 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 17:58:51 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 17:58:51 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 17:58:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 17:59:06 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 17:59:06 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 17:59:06 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 17:59:07 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 17:59:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 17:59:07 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 17:59:07 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:07 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-20 17:59:07 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 17:59:07 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 17:59:07 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 17:59:07 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 17:59:07 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 17:59:07 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 17:59:07 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 17:59:07 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 17:59:07 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 17:59:07 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 17:59:07 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 17:59:07 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 17:59:07 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 17:59:07 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-20 17:59:07 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 17:59:07 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:59:09 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/63bc2317-3f9e-43eb-bbfe-89c6392b900e
[36m[2021-04-20 17:59:09 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 17:59:09 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 17:59:09 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 17:59:09 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 17:59:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 17:59:09 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:11 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 17:59:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 17:59:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 17:59:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:59:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:59:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 17:59:14 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f84c87451f0>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f84c87451f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f84c87451f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30809/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f84c87451f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-20 17:59:14 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30809/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30809): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f84c87451f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-20 17:59:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:59:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 17:59:15 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 17:59:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 17:59:15 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 17:59:17 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 17:59:17 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 17:59:17 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 17:59:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 17:59:17 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:59:19 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-20 17:59:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:59:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:59:20 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-20 17:59:20 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 17:59:20 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 17:59:20 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 17:59:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 1, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '1295', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 15:59:20 GMT', 'Content-Length': '1945'}}'
[36m[2021-04-20 17:59:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 17:59:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 17:59:22 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 17:59:23 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 17:59:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 17:59:23 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 17:59:26 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 17:59:26 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 17:59:26 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 17:59:26 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:03:36 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:03:36 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:03:36 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:03:36 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:03:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:03:36 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:03:36 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:36 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-20 18:03:36 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:03:36 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:03:36 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:03:36 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:03:36 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:03:36 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:03:37 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:03:37 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:03:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:03:37 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:03:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:03:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:03:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:03:37 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-20 18:03:37 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:03:37 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:39 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f5b04950-5acd-4ea2-8116-f6fd1dd49f22
[36m[2021-04-20 18:03:39 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:03:39 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:03:39 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:03:39 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:03:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:03:39 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:41 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:03:41 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:03:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:03:41 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:03:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '60', 'date': 'Tue, 20 Apr 2021 16:03:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:03:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:03:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:03:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '39', 'date': 'Tue, 20 Apr 2021 16:03:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:03:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:03:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:03:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 20 Apr 2021 16:03:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:03:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:03:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:03:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 20 Apr 2021 16:03:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:03:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:03:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:03:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:03:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:03:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:03:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:03:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:03:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:03:58 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:03:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:03:58 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:00 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:04:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:04:00 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:03 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-20 18:04:03 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:04:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:04:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:04:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:04:03Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '3533', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:04:03 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 18:04:03 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 18:04:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:04:10 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:11 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:04:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:04:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:04:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:04:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '15', 'date': 'Tue, 20 Apr 2021 16:04:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:04:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:04:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:04:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Tue, 20 Apr 2021 16:04:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:04:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:04:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:04:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 20 Apr 2021 16:04:20 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-20 18:04:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:04:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:04:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 18:04:24 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 18:04:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:04:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:04:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:04:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:26 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-20 18:04:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:27 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-20 18:04:27 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:04:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:04:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:04:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 3, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:04:03Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '3559', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:04:27 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 18:04:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:04:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:04:29 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:04:30 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 18:04:30 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 18:04:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:04:30 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:04:33 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:04:33 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:04:33 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:04:33 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:18:35 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:18:35 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:18:35 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:18:39 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:18:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:18:39 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:18:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:18:39 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:18:39 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 20:18:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:18:39 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:18:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:18:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:18:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:18:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:18:41 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:18:41 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:18:41 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:18:41 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:18:41 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:18:41 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:18:41 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:18:41 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:18:41 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:18:41 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:18:46 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/3ceafee8-ab4d-4907-8af3-03debd4113e9
[36m[2021-04-21 20:18:46 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:18:47 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:18:47 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:18:47 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:18:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:18:47 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:18:50 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:18:50 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:18:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:18:50 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:18:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:18:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:18:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:18:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '41', 'date': 'Wed, 21 Apr 2021 18:18:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:18:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:18:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:19:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:19:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '13', 'date': 'Wed, 21 Apr 2021 18:19:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:19:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:19:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:19:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 18:19:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:19:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:19:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:19:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Wed, 21 Apr 2021 18:19:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:19:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:19:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:19:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Wed, 21 Apr 2021 18:19:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:19:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:19:34 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:19:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:19:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:39 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:19:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:19:39 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:19:46 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:19:46 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:19:46 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:19:46 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[31m[2021-04-21 20:19:46 ERROR] [activity:188][39m   => failed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[32m[2021-04-21 20:19:46 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 20:19:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:19:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:19:56 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:19:59 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:19:59 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:19:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:19:59 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:20:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:20:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:20:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:20:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Wed, 21 Apr 2021 18:20:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:20:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:20:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:20:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:20:10 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 20:20:14 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-21 20:20:14 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:20:14 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:20:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:20:14 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:20:18 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:20:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:20:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:20:22 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:20:22 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:20:22 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:20:23 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 261, in remove_abort_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 118, in unset_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 261, in remove_abort_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 118, in unset_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[31m[2021-04-21 20:20:23 ERROR] [activity:188][39m   => failed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[36m[2021-04-21 20:20:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:20:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:20:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:20:27 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:20:31 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-21 20:20:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:20:31 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:20:34 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:20:34 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:20:34 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:20:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:21:46 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:21:46 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:21:46 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:21:49 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:21:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:21:49 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:21:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:21:49 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:21:49 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 20:21:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:21:49 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:21:49 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:21:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:21:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:21:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:21:51 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:21:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:21:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:21:51 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:21:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:21:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:21:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:21:51 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:21:51 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:21:51 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:21:56 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/0d603321-74e0-417c-9420-b7d4ea0f1dca
[36m[2021-04-21 20:21:56 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:21:57 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:21:57 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:21:57 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:21:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:21:57 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:01 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:22:01 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:22:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:22:01 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:22:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:22:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:22:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:22:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:22:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:22:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:22:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:22:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:22:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:22:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:22:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:22:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:22:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Wed, 21 Apr 2021 18:22:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:22:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:37 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:22:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:41 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:22:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:22:41 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:22:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:22:45 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:22:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:22:45 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:50 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:22:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:22:50 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:22:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:22:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:22:58 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:22:58 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:22:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:22:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:22:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '5488', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:22:59 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:22:59 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 20:23:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:23:07 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:11 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:23:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:23:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:23:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:23:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:23:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:23:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:23:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:23:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:23:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:23:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:23:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:23:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:23:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:23:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:23:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:23:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:23:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:23:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:23:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:23:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:23:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:23:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:23:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:23:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:23:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Wed, 21 Apr 2021 18:23:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:23:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:23:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:23:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:23:55 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:23:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:23:55 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 20:24:00 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:24:00 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:24:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:24:00 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:24:03 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:24:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:24:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:24:08 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:24:08 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:24:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:24:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:24:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '5565', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:24:08 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:24:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:24:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:24:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:24:11 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:24:15 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 20:24:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:24:15 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:24:20 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:24:20 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:24:20 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:24:20 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:33:07 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:33:07 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:33:07 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:33:11 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:33:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:33:11 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:33:11 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:33:11 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:33:11 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:33:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:33:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:33:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:33:14 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:33:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:33:14 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:33:14 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:33:14 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:33:14 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:33:14 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:33:14 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:33:14 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:33:14 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:33:18 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a94c6ef7-34cf-48cc-9b4e-577b8ef48e59
[36m[2021-04-21 20:33:18 DEBUG] [workspace:147][39m Registering experiment 'abort-failure-rollback-read.yaml' with ID 'aed96dc0-cc2c-4416-bbb6-de87b13833c3' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-21 20:33:18 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:33:18 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:33:18 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:33:18 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:33:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:33:18 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:23 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:33:23 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:33:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:33:23 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:33:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:33:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Wed, 21 Apr 2021 18:33:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:33:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:33:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:33:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:33:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '11', 'date': 'Wed, 21 Apr 2021 18:33:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:33:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:33:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:33:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:33:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Wed, 21 Apr 2021 18:33:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:33:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:33:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:33:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:33:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:33:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:33:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:33:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:33:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:33:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:03 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:34:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:34:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:34:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:34:08 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:34:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:34:08 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:11 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:34:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:34:11 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:19 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:34:19 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:34:19 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:34:19 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: Virtual Service 'mg-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "mg-vs" not found', 'reason': 'NotFound', 'details': {'name': 'mg-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Virtual Service 'mg-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "mg-vs" not found', 'reason': 'NotFound', 'details': {'name': 'mg-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[31m[2021-04-21 20:34:20 ERROR] [activity:188][39m   => failed: chaoslib.exceptions.ActivityFailed: Virtual Service 'mg-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "mg-vs" not found', 'reason': 'NotFound', 'details': {'name': 'mg-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[32m[2021-04-21 20:34:20 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-21 20:34:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:34:24 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:28 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:34:28 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:34:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:34:28 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:34:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:34:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:34:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:34:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:34:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 18:34:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:34:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:34:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:34:47 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 20:34:52 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-21 20:34:52 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:34:52 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:34:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:34:52 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:34:56 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:34:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:34:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:35:00 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:35:00 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:35:00 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:35:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:35:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '5565', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:35:01 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:35:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:35:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:35:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:35:04 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:35:08 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-21 20:35:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:35:08 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:35:11 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:35:11 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:35:11 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:35:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:37:31 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:37:31 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:37:31 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:37:35 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:37:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:37:35 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:37:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:37:35 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:37:35 DEBUG] [controls:109][39m Using experiment ID aed96dc0-cc2c-4416-bbb6-de87b13833c3 from workspace for experiment at location abort-failure-rollback-read.yaml
[36m[2021-04-21 20:37:35 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:37:35 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:37:35 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:37:35 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:37:35 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:37:35 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:37:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:37:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:37:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:37:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:37:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:37:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:37:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:37:38 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:37:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:37:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:37:44 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6ddc09a2-bf29-4597-8af1-e88f955ec2e3
[36m[2021-04-21 20:37:44 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:37:44 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:37:44 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:37:44 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:37:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:37:44 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:37:47 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:37:47 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:37:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:37:47 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:37:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:37:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:37:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:37:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:37:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:37:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:37:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:37:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:37:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:37:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:01 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:38:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:38:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:38:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:38:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:38:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:38:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:38:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:38:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:38:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:38:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:38:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:38:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:38:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 18:38:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:38:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:38:11 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:38:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:38:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:12 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:38:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:38:12 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:14 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:15 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:38:15 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:38:15 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:38:15 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:38:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6502', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:38:15 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:38:15 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-21 20:38:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:38:18 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:20 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:38:20 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:38:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:38:20 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:38:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 18:38:22 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 20:38:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:38:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:38:24 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 20:38:26 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 20:38:26 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:38:26 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:38:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:38:26 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:28 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:38:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:29 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:38:29 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:38:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:38:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:38:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 7, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6516', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:38:30 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:38:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:38:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:38:31 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:38:33 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 20:38:33 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 20:38:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:38:33 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:38:35 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:38:35 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:38:35 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:38:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:39:11 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:39:11 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:39:11 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:39:12 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:39:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:39:12 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:39:12 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:12 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 20:39:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:39:12 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:39:12 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:39:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:39:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:39:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:39:12 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:39:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:39:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:39:12 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:39:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:39:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:39:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:39:12 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:39:12 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:39:12 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:14 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/8c001c22-ab0e-46b5-a32e-a28d888d7792
[36m[2021-04-21 20:39:14 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:39:14 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:39:14 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:39:14 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:39:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:39:14 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:16 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:39:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:39:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:39:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:39:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:39:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 18:39:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:39:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 18:39:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:39:33 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:39:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:39:33 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:34 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:39:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:39:34 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:37 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:39:37 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:39:37 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:39:37 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:39:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6590', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:39:37 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:39:37 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 20:39:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:39:44 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:46 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:39:46 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:39:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:39:46 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '483', 'date': 'Wed, 21 Apr 2021 18:39:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 18:39:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:39:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:39:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:39:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 18:39:56 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 20:39:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:39:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:39:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:39:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:39:58 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 20:39:59 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 20:39:59 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:39:59 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:39:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:39:59 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:40:01 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:40:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:40:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:40:03 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:40:03 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:40:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:40:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:40:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 9, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6617', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:40:05 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:40:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:40:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:40:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:40:06 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:40:08 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 20:40:08 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 20:40:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:40:08 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:40:11 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:40:11 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:40:11 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:40:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:41:37 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:41:37 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:41:37 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:41:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:41:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:41:38 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:41:38 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:38 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 20:41:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:41:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:41:38 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:41:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:41:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:41:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:41:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:41:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:41:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:41:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:41:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:41:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:41:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:41:38 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:41:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:41:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/35dbd5d8-2ecd-4c37-a157-3d8a4e64904b
[36m[2021-04-21 20:41:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:41:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:41:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:41:40 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:41:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:41:40 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:42 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:41:42 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:41:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:41:42 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:41:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Wed, 21 Apr 2021 18:41:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:41:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:41:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:41:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:41:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:41:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:41:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:41:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Wed, 21 Apr 2021 18:41:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:41:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:41:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:41:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 18:41:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:41:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:41:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:41:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:41:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:41:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Wed, 21 Apr 2021 18:41:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:41:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:41:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:42:00 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:42:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:42:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:02 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:42:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:42:02 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:05 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:42:05 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:42:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:42:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:42:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 11, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6750', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:42:06 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:42:06 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 20:42:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:42:13 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:14 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:42:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:42:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:42:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:42:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 18:42:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:42:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:42:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:42:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 18:42:21 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 20:42:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:42:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:42:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 20:42:24 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 20:42:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:42:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:42:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:42:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:26 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:42:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:27 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:42:27 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:42:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:42:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:42:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 12, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '6781', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:42:29 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:42:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:42:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:42:31 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:42:32 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 20:42:32 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 20:42:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:42:32 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:42:35 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:42:35 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:42:35 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:42:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:50:30 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:50:30 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:50:30 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:50:31 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:50:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:50:31 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:50:31 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:31 DEBUG] [controls:109][39m Using experiment ID aed96dc0-cc2c-4416-bbb6-de87b13833c3 from workspace for experiment at location abort-failure-rollback-read.yaml
[36m[2021-04-21 20:50:31 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:50:31 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:50:31 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:50:31 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:50:31 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:50:31 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:50:31 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:50:31 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:50:31 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:50:31 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:50:31 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:50:31 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:50:31 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:50:31 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 20:50:31 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:50:31 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:34 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a6ad5f5f-97a7-41b3-b7a1-5d5ca309cf76
[36m[2021-04-21 20:50:34 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:50:34 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:50:34 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:50:34 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:50:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:50:34 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:36 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:50:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:50:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:50:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:50:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 18:50:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:50:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:50:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:50:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Wed, 21 Apr 2021 18:50:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:50:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:50:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:50:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 18:50:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:50:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:50:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:50:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 18:50:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:50:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:50:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:50:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Wed, 21 Apr 2021 18:50:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 20:50:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:50:54 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:50:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:50:54 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:55 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:50:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:50:55 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:50:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:50:58 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 20:50:58 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:50:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:50:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:50:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 15, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '7348', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:50:58 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:50:58 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-21 20:50:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:50:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:51:01 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:03 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:51:03 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:51:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:51:03 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:51:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:51:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:51:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 18:51:06 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 20:51:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:51:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:51:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:51:07 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 20:51:09 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 20:51:09 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:51:09 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:51:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:51:09 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:51:11 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 20:51:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:51:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:51:12 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 20:51:12 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:51:12 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:51:12 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:51:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 16, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '7364', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:51:12 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:51:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:51:12 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:51:14 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:51:15 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 20:51:15 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 20:51:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:51:15 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:51:18 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:51:18 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:51:18 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:51:18 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:11:04 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:11:04 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:11:04 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:11:04 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:11:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:11:04 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:11:04 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:04 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:11:04 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:11:04 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:11:04 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:11:04 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:11:04 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:11:04 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:11:05 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:11:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:11:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:11:05 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:11:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:11:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:11:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:11:05 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:11:05 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:11:05 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:07 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a2cbef02-4578-4f5a-9ef0-4044068ec1b9
[36m[2021-04-21 21:11:07 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:11:07 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:11:07 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:11:07 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:11:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:11:07 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:08 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:11:08 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:11:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:11:08 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:11:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:11:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:11:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:11:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:11:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:11:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:11:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:11:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:11:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Wed, 21 Apr 2021 19:11:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:11:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:11:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:11:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:11:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:11:26 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:11:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:11:26 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:28 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:11:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:11:28 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:31 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 21:11:31 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:11:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:11:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:11:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 17, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '8710', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:11:31 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:11:31 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:11:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:11:38 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:39 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:11:39 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:11:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:11:39 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:11:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 19:11:42 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 21:11:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:11:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:11:44 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 21:11:46 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 21:11:46 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:11:46 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:11:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:11:46 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:47 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 21:11:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:49 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 21:11:49 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:11:49 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:11:50 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:11:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 18, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '8731', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:11:50 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:11:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:11:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:11:52 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:11:53 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 21:11:53 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 21:11:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:11:53 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:11:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:11:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:11:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:11:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:13:14 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:13:14 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:13:14 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:13:15 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:13:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:13:15 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:13:15 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:15 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:13:15 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:13:15 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:13:15 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:13:15 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:13:15 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:13:15 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:13:15 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:13:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:13:15 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:13:15 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:13:15 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:13:15 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:13:15 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:13:15 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:13:15 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:13:15 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:17 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f599948e-f0fd-4956-b088-369254b11047
[36m[2021-04-21 21:13:17 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:13:17 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:13:17 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:13:17 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:13:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:13:17 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:19 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:13:19 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:13:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:13:19 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 19:13:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:13:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Wed, 21 Apr 2021 19:13:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Wed, 21 Apr 2021 19:13:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:13:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:13:36 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:13:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:13:36 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:38 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:13:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:13:38 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:41 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 21:13:41 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:13:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:13:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:13:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 20, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:13:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:13:42Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '8865', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:13:42 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:13:42 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:13:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:13:48 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:50 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:13:50 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:13:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:13:50 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 19:13:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:13:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:13:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:13:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 19:13:57 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 21:13:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:13:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:13:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:13:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:13:59 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 21:14:00 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 21:14:00 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:14:00 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:14:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:14:00 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:14:02 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 21:14:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:14:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:14:04 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 21:14:04 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:14:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:14:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:14:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 21, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:13:05Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:13:42Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '8892', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:14:04 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:14:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:14:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:14:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:14:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:14:07 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 21:14:07 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 21:14:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:14:07 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:14:10 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:14:10 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:14:10 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:14:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:33:54 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:33:54 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:33:54 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:33:54 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:33:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:33:54 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:33:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:33:54 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:33:54 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:33:54 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:33:54 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:33:54 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:33:54 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:33:54 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:33:54 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:33:55 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:33:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:33:55 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:33:55 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:33:55 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:33:55 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:33:55 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:33:55 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:33:55 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:33:55 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:33:57 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/02484e88-d901-4357-a424-46f516300c87
[36m[2021-04-21 21:33:57 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:33:57 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:33:57 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:33:57 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:33:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:33:57 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:33:59 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:33:59 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:33:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:33:59 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:34:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:05 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:34:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 19:34:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:10 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:34:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 19:34:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:34:16 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:34:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:34:16 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:18 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:34:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:34:18 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:21 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 21:34:21 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:34:21 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:34:21 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:34:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 28, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10271', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:34:21 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:34:21 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:34:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:34:28 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:30 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:34:30 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:34:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:34:30 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 19:34:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:34:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:34:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 19:34:36 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 21:34:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:34:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:34:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 21:34:40 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 21:34:40 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:34:40 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:34:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:34:40 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:41 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 21:34:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:43 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 21:34:43 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:34:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:34:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:34:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 29, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10295', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:34:44 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:34:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:34:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:34:45 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:34:47 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 21:34:47 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 21:34:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:34:47 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:34:50 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:34:50 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:34:50 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:34:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:36:18 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:36:18 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:36:18 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:36:19 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:36:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:36:19 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:36:19 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:19 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:36:19 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:36:19 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:36:19 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:36:19 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:36:19 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:36:19 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:36:19 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:36:19 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:36:19 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:36:19 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:36:19 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:36:19 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:36:19 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:36:19 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:36:19 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:36:19 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:36:21 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/c695d4dc-336e-463d-b716-7e072035adb6
[36m[2021-04-21 21:36:21 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:36:21 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:36:21 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:36:21 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:36:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:36:21 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:23 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:36:23 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:36:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:36:23 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:36:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:36:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:36:26 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/util/timeout.py", line 132, in _validate_timeout
        float(value)
    ValueError: could not convert string to float: '5s'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 435, in send
        timeout = TimeoutSauce(connect=timeout, read=timeout)
      File "/usr/lib/python3/dist-packages/urllib3/util/timeout.py", line 96, in __init__
        self._connect = self._validate_timeout(connect, "connect")
      File "/usr/lib/python3/dist-packages/urllib3/util/timeout.py", line 134, in _validate_timeout
        raise ValueError(
    ValueError: Timeout value connect was 5s, but it must be an int, float or None.
[36m[2021-04-21 21:36:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:36:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:36:28 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:36:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:36:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:36:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:36:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:36:59 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:36:59 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:36:59 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:37:00 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:37:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:37:00 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:37:00 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:00 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:37:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:37:00 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:37:00 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:37:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:37:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:37:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:37:00 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:37:00 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:37:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:37:00 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:37:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:37:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:37:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:37:00 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:37:00 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:37:00 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:03 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/90b91438-e8ea-40cb-b5f3-5f540304b812
[36m[2021-04-21 21:37:03 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:37:03 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:37:03 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:37:03 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:37:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:37:03 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:04 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:37:04 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:37:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:37:04 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Wed, 21 Apr 2021 19:37:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:37:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Wed, 21 Apr 2021 19:37:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Wed, 21 Apr 2021 19:37:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:37:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:37:22 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:37:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:37:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:24 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:37:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:37:24 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:27 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 21:37:27 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:37:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:37:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:37:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 30, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10481', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:37:27 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:37:27 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:37:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:37:34 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:35 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:37:35 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:37:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:37:35 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 19:37:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Wed, 21 Apr 2021 19:37:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:37:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:37:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 19:37:45 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 21:37:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:37:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:37:47 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 21:37:48 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 21:37:48 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:37:48 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:37:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:37:48 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:50 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 21:37:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:52 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 21:37:52 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:37:52 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:37:52 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:37:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 31, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10507', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:37:52 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:37:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:37:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:37:53 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:37:55 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 21:37:55 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 21:37:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:37:55 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:37:58 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:37:58 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:37:58 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:37:58 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:39:58 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:39:58 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:39:58 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:39:59 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:39:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:39:59 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:39:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:39:59 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:39:59 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 21:39:59 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:39:59 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:39:59 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:39:59 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:39:59 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:39:59 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:39:59 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:39:59 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:39:59 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:39:59 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:39:59 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:39:59 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:39:59 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:39:59 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 21:39:59 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:39:59 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:02 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/815cbcb6-a249-4b0d-b315-4f5d0d325509
[36m[2021-04-21 21:40:02 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:40:02 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:40:02 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:40:02 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:40:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:40:02 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:03 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:40:03 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:40:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:40:03 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:40:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:40:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:40:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 19:40:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:40:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:40:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:40:12 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:40:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:14 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:40:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:14 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:40:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:40:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:40:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 19:40:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:40:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:40:21 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:40:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:40:21 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:23 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:40:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:40:23 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:26 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 21:40:26 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:40:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:40:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:40:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 33, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10686', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:40:26 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:40:26 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:40:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:40:33 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:35 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:40:35 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:40:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:40:35 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:40:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 19:40:37 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 21:40:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:40:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:40:39 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 21:40:41 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 21:40:41 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:40:41 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:40:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:40:41 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:42 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 21:40:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:44 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 21:40:44 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:40:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:40:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:40:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 34, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10709', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:40:44 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:40:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:40:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:40:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:40:47 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 21:40:47 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 21:40:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:40:47 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:40:50 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:40:50 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:40:50 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:40:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:20:26 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 22:20:26 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 22:20:26 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 22:20:27 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 22:20:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:20:27 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:20:27 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:27 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 22:20:27 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:20:27 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 22:20:27 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 22:20:27 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:20:27 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:20:27 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:20:29 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 22:20:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:20:29 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:20:29 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 22:20:29 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:20:29 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:20:29 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:20:29 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 22:20:29 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 22:20:29 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:31 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/df51eae0-912c-4537-b8f6-812e0e410dfd
[36m[2021-04-21 22:20:31 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 22:20:31 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 22:20:31 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 22:20:31 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 22:20:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:20:31 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:33 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 22:20:33 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:20:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:20:33 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:20:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '37', 'date': 'Wed, 21 Apr 2021 20:20:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:20:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:20:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:20:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Wed, 21 Apr 2021 20:20:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:20:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:20:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:20:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 20:20:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:20:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:20:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:20:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 20:20:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:20:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:20:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:20:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 20:20:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:20:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 22:20:52 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 22:20:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:20:52 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:54 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 22:20:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:20:54 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:20:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:20:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:20:57 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 22:20:57 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:20:57 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:20:57 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:20:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 35, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '13418', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:20:57 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 22:20:57 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 22:21:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:21:04 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:06 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 22:21:06 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:21:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:21:06 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:21:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:21:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 20:21:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:21:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:10 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:21:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:21:12 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:21:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 20:21:12 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 22:21:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:12 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:14 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:21:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:21:14 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 22:21:15 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 22:21:15 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 22:21:15 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 22:21:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:21:15 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:21:17 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 22:21:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:21:18 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 22:21:18 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:21:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:21:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:21:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 36, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '13448', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:21:19 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 22:21:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:21:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:21:20 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:21:22 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 22:21:22 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 22:21:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:21:22 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:21:24 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 22:21:24 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 22:21:24 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 22:21:24 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:25:40 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 22:25:40 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 22:25:40 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 22:25:40 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 22:25:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:25:40 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:25:40 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:40 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 22:25:40 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:25:40 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 22:25:40 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 22:25:40 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:25:40 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:25:40 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:25:41 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 22:25:41 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:25:41 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:25:41 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 22:25:41 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:25:41 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:25:41 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:25:41 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 22:25:41 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 22:25:41 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:25:43 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/eaf05618-3fbe-4a26-b29e-3779a51e1b3d
[36m[2021-04-21 22:25:43 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 22:25:43 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 22:25:43 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 22:25:43 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 22:25:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:25:43 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:45 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 22:25:45 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:25:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:25:45 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:25:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:25:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '15', 'date': 'Wed, 21 Apr 2021 20:25:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:25:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:25:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:25:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:25:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 20:25:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:25:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:25:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:25:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:25:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 20:25:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:25:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:25:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:25:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:25:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:25:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 20:25:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:25:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:25:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:26:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:01 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:26:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Wed, 21 Apr 2021 20:26:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:26:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 22:26:03 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 22:26:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:26:03 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:05 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 22:26:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:26:05 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:08 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 22:26:08 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:26:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:26:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:26:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 37, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '13772', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:26:08 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 22:26:08 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 22:26:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:26:15 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:16 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 22:26:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:26:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:26:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:26:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 20:26:19 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 22:26:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:26:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:26:21 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 22:26:23 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 22:26:23 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 22:26:23 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 22:26:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:26:23 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:25 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 22:26:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:26 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 22:26:26 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:26:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:26:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:26:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 38, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:39:35Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:40:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '13795', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:26:27 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 22:26:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:26:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:26:29 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:26:30 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 22:26:30 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 22:26:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:26:30 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:26:33 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 22:26:33 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 22:26:33 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 22:26:33 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:58:06 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 22:58:06 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 22:58:06 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 22:58:07 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 22:58:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:58:07 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 22:58:07 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:07 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 22:58:07 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:58:07 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 22:58:07 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 22:58:07 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:58:07 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:58:07 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:58:10 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 22:58:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 22:58:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 22:58:10 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 22:58:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 22:58:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 22:58:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 22:58:10 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 22:58:10 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 22:58:10 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:12 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/1a4f9633-566d-44f3-b019-c58a7e366f2f
[36m[2021-04-21 22:58:12 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 22:58:12 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 22:58:12 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 22:58:12 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 22:58:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:58:12 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:14 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 22:58:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:58:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:58:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 20:58:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:58:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 20:58:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:58:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Wed, 21 Apr 2021 20:58:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:58:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 20:58:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:58:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Wed, 21 Apr 2021 20:58:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 22:58:39 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 22:58:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:58:39 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:41 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 22:58:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:58:41 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:44 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 22:58:44 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:58:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:58:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:58:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 40, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '15926', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:58:44 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 22:58:44 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 22:58:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 22:58:50 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:52 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 22:58:52 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 22:58:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:58:52 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 20:58:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 22:58:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:58:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:58:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:58:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 22:58:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 20:58:57 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 22:58:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:58:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:59:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 22:59:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 22:59:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 22:59:01 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 22:59:01 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 22:59:01 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 22:59:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:59:01 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:59:03 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 22:59:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:59:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:59:05 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 22:59:05 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 22:59:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:59:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 22:59:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 41, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '15951', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 20:59:05 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 22:59:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 22:59:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:59:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 22:59:07 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 22:59:08 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 22:59:08 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 22:59:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 22:59:08 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 22:59:11 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 22:59:11 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 22:59:11 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 22:59:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:08:21 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 23:08:21 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 23:08:21 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 23:08:22 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 23:08:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:08:22 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:08:22 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:22 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 23:08:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:08:22 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 23:08:22 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 23:08:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:08:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:08:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:08:25 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 23:08:25 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:08:25 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:08:25 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 23:08:25 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:08:25 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:08:25 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:08:25 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 23:08:26 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 23:08:26 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:28 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/2c909e0e-c980-4019-97ac-2428f09a802b
[36m[2021-04-21 23:08:28 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 23:08:28 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 23:08:28 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 23:08:28 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 23:08:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:08:28 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:30 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 23:08:30 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:08:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:08:30 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:08:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Wed, 21 Apr 2021 21:08:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:08:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:08:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:08:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 21:08:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:08:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:08:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:08:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 21:08:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:08:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:08:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:08:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 21:08:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:08:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:08:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:08:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 21:08:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:08:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 23:08:48 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 23:08:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:08:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:49 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 23:08:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:08:49 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:08:53 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 23:08:53 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:08:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:08:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:08:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 42, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '16589', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:08:53 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 23:08:53 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 23:08:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:08:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:08:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:08:59 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:01 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 23:09:01 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:09:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:09:01 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:09:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:09:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Wed, 21 Apr 2021 21:09:04 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:09:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:09:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:09:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:09:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 21:09:07 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 23:09:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:09:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:09:09 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 23:09:11 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 23:09:11 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 23:09:11 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 23:09:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:09:11 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:09:12 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 23:09:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:09:14 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 23:09:14 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:09:14 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:09:14 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:09:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 43, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '16614', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:09:14 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 23:09:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:09:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:09:15 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:09:17 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 23:09:17 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 23:09:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:09:17 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:09:19 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 23:09:19 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 23:09:19 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 23:09:19 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:23:26 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 23:23:26 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 23:23:26 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 23:23:27 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 23:23:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:23:27 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:23:27 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:27 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-21 23:23:27 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:23:27 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 23:23:27 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 23:23:27 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:23:27 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:23:27 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:23:27 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 23:23:27 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:23:27 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:23:27 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 23:23:27 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:23:27 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:23:27 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:23:27 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-21 23:23:27 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 23:23:27 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:30 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/921071b6-124d-4937-8f3a-276798528997
[36m[2021-04-21 23:23:30 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 23:23:30 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 23:23:30 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 23:23:30 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 23:23:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:23:30 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:31 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 23:23:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:23:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:23:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:23:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 21:23:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:23:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:23:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:23:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Wed, 21 Apr 2021 21:23:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:23:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:23:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:41 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:23:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 21:23:41 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:23:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:23:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:23:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Wed, 21 Apr 2021 21:23:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:23:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:23:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:23:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 21:23:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:23:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 23:23:50 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 23:23:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:23:50 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:52 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 23:23:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:23:52 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:23:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:23:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:23:55 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-21 23:23:55 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:23:55 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:23:55 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:23:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 46, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '17560', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 503, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:23:55 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 23:23:55 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 23:24:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:24:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:24:01 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:03 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 23:24:03 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:24:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:24:03 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:24:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:24:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:24:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 503, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 21:24:06 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-21 23:24:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:24:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:24:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:24:08 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 23:24:10 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 23:24:10 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 23:24:10 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 23:24:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:24:10 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:24:11 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-21 23:24:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:24:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:24:13 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-21 23:24:13 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:24:13 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:24:13 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:24:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 47, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '17581', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:24:13 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 23:24:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:24:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:24:15 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:24:16 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-21 23:24:16 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-21 23:24:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:24:16 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:24:19 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 23:24:19 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 23:24:19 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 23:24:19 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 08:55:59 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-22 08:55:59 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-22 08:55:59 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-22 08:56:03 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-22 08:56:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 08:56:03 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 08:56:03 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:03 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-22 08:56:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 08:56:03 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-22 08:56:03 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-22 08:56:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 08:56:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 08:56:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 08:56:06 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-22 08:56:06 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 08:56:06 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 08:56:06 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-22 08:56:06 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 08:56:06 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 08:56:06 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 08:56:06 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-22 08:56:06 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-22 08:56:06 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:10 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f3e42d66-e12b-4ba3-bbf3-dd8a50dc04d1
[36m[2021-04-22 08:56:10 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-22 08:56:10 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-22 08:56:10 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-22 08:56:10 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-22 08:56:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 08:56:10 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-22 08:56:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-22 08:56:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 08:56:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:56:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Thu, 22 Apr 2021 06:56:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-22 08:56:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 08:56:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:56:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Thu, 22 Apr 2021 06:56:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-22 08:56:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 08:56:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:56:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Thu, 22 Apr 2021 06:56:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-22 08:56:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 08:56:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:56:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Thu, 22 Apr 2021 06:56:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-22 08:56:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 08:56:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:56:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:56:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Thu, 22 Apr 2021 06:56:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-22 08:56:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:56:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:56:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-22 08:56:59 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-22 08:56:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 08:56:59 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:57:03 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-22 08:57:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-22 08:57:03 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:57:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:57:11 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-22 08:57:11 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-22 08:57:11 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-22 08:57:12 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-22 08:57:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 48, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '26660', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 503, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Thu, 22 Apr 2021 06:57:12 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-22 08:57:12 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-22 08:57:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:57:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-22 08:57:22 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:26 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-22 08:57:26 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-22 08:57:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 08:57:26 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:57:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:57:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 08:57:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 503, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Thu, 22 Apr 2021 06:57:33 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-22 08:57:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 08:57:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 08:57:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 08:57:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-22 08:57:42 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-22 08:57:42 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-22 08:57:42 INFO] [run:809][39m Let's rollback...
[36m[2021-04-22 08:57:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 08:57:42 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:57:46 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-22 08:57:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 08:57:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 08:57:50 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-22 08:57:50 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-22 08:57:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 08:57:50 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 08:57:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-22 08:57:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-22 08:57:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-22 08:57:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 14:06:18 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-22 14:06:18 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-22 14:06:18 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-22 14:06:23 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-22 14:06:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 14:06:23 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:06:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 14:06:23 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:06:23 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-22 14:06:23 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 14:06:23 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-22 14:06:23 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-22 14:06:23 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 14:06:23 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 14:06:23 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 14:06:53 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-22 14:06:53 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 14:06:53 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 14:06:53 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-22 14:06:53 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 14:06:53 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 14:06:53 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 14:06:53 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-22 14:06:55 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-22 14:06:55 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:07:00 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/ac1fde19-a0f2-4db4-9bf6-555163434785
[36m[2021-04-22 14:07:00 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-22 14:07:00 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-22 14:07:00 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-22 14:07:00 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-22 14:07:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 14:07:00 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:06 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-22 14:07:06 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-22 14:07:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 14:07:06 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:07:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:07:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 14:07:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 404, 'headers': {'date': 'Thu, 22 Apr 2021 12:07:14 GMT', 'server': 'istio-envoy', 'content-length': '0'}, 'body': ''}'
[36m[2021-04-22 14:07:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:07:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 14:07:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 14:07:18 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-22 14:07:22 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-22 14:07:22 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-22 14:07:22 INFO] [run:809][39m Let's rollback...
[36m[2021-04-22 14:07:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 14:07:22 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:07:26 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-22 14:07:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:07:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:07:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 14:07:31 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-22 14:07:36 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-22 14:07:36 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-22 14:07:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 14:07:36 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:38 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-22 14:07:38 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-22 14:07:38 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-22 14:07:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 14:07:54 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-22 14:07:54 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-22 14:07:54 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-22 14:07:57 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-22 14:07:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 14:07:58 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-22 14:07:58 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:07:58 DEBUG] [controls:109][39m Using experiment ID aed96dc0-cc2c-4416-bbb6-de87b13833c3 from workspace for experiment at location abort-failure-rollback-read.yaml
[36m[2021-04-22 14:07:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 14:07:58 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-22 14:07:58 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-22 14:07:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 14:07:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 14:07:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 14:08:03 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-22 14:08:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-22 14:08:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-22 14:08:03 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-22 14:08:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-22 14:08:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-22 14:08:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-22 14:08:03 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-22 14:08:03 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-22 14:08:03 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:08 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/20eed645-895b-4212-870b-133c2c3a7293
[36m[2021-04-22 14:08:08 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-22 14:08:08 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-22 14:08:08 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-22 14:08:08 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-22 14:08:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 14:08:08 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:12 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-22 14:08:12 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-22 14:08:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 14:08:12 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 14:08:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '933', 'date': 'Thu, 22 Apr 2021 12:08:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-22 14:08:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-22 14:08:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-22 14:08:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '193', 'date': 'Thu, 22 Apr 2021 12:08:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-22 14:08:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-22 14:08:32 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-22 14:08:35 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-22 14:08:36 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-22 14:08:36 INFO] [run:809][39m Let's rollback...
[36m[2021-04-22 14:08:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 14:08:36 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:40 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-22 14:08:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:44 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-22 14:08:44 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-22 14:08:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-22 14:08:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-22 14:08:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"delegate":{"name":"mg-v1-delegate"},"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 50, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-22T07:12:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '28693', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'delegate': {'name': 'mg-v1-delegate'}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Thu, 22 Apr 2021 12:08:44 GMT', 'Content-Length': '2041'}}'
[36m[2021-04-22 14:08:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-22 14:08:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-22 14:08:48 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-22 14:08:52 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-22 14:08:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-22 14:08:52 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-22 14:08:56 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-22 14:08:56 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-22 14:08:56 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-22 14:08:56 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-23 00:09:51 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-23 00:09:51 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-23 00:09:51 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-23 00:09:52 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-23 00:09:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-23 00:09:52 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:09:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-23 00:09:52 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:09:52 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-23 00:09:52 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-23 00:09:52 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-23 00:09:52 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-23 00:09:52 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-23 00:09:52 DEBUG] [caching:42][39m Clearing activities cache
[31m[2021-04-23 00:09:52 ERROR] [cli:174][39m Configuration makes reference to an environment key that does not exist: INGRESS_HOST
[36m[2021-04-23 00:09:52 DEBUG] [cli:175][39m Configuration makes reference to an environment key that does not exist: INGRESS_HOST
[36m[2021-04-23 00:10:32 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-23 00:10:32 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-23 00:10:32 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-23 00:10:33 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-23 00:10:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-23 00:10:33 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-23 00:10:33 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:33 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-23 00:10:33 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-23 00:10:33 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-23 00:10:33 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-23 00:10:33 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-23 00:10:33 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-23 00:10:33 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-23 00:10:36 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-23 00:10:36 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-23 00:10:36 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-23 00:10:36 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-23 00:10:36 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-23 00:10:36 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-23 00:10:36 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-23 00:10:36 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-23 00:10:36 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-23 00:10:36 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-23 00:10:38 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/064adaf6-96b2-4619-a692-c09f8c407e2f
[36m[2021-04-23 00:10:38 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-23 00:10:38 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-23 00:10:38 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-23 00:10:38 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-23 00:10:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-23 00:10:38 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:40 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-23 00:10:40 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-23 00:10:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-23 00:10:40 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-23 00:10:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-23 00:10:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-23 00:10:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 404, 'headers': {'date': 'Thu, 22 Apr 2021 22:10:43 GMT', 'server': 'istio-envoy', 'content-length': '0'}, 'body': ''}'
[36m[2021-04-23 00:10:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-23 00:10:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-23 00:10:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-23 00:10:45 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-23 00:10:46 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-23 00:10:46 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-23 00:10:46 INFO] [run:809][39m Let's rollback...
[36m[2021-04-23 00:10:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-23 00:10:46 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-23 00:10:48 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-23 00:10:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-23 00:10:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-23 00:10:50 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-23 00:10:50 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-23 00:10:50 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-23 00:10:50 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-23 00:10:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-v1-delegate","namespace":"default"},"spec":{"hosts":["http-mg-mread-vs"],"http":[{"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"5s"}]}}\n'}, 'creationTimestamp': '2021-04-22T21:09:58Z', 'generation': 1, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-22T21:09:58Z'}], 'name': 'mg-v1-delegate', 'namespace': 'default', 'resourceVersion': '5050', 'uid': '57f532f1-b21d-4a67-9d3b-d8e928ef85a4'}, 'spec': {'hosts': ['http-mg-mread-vs'], 'http': [{'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '5s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '3834efba-5ed2-43ba-b824-fe014f259c2d', 'X-Kubernetes-Pf-Prioritylevel-Uid': '3a0df545-c8bc-4fb2-98c4-bc127522cf5a', 'Date': 'Thu, 22 Apr 2021 22:10:50 GMT', 'Content-Length': '1201'}}'
[36m[2021-04-23 00:10:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-23 00:10:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-23 00:10:51 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-23 00:10:53 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-23 00:10:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-23 00:10:53 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-23 00:10:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-23 00:10:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-23 00:10:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-23 00:10:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:26:57 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-26 21:26:57 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-26 21:26:57 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-26 21:26:58 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-26 21:26:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:26:58 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:26:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:26:58 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:26:58 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-26 21:26:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:26:58 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-26 21:26:58 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-26 21:26:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:26:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:26:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:27:03 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-26 21:27:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:27:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:27:03 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-26 21:27:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:27:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:27:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:27:03 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-26 21:27:04 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-26 21:27:04 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:06 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/bc214f88-1f0a-426b-bd17-4fad5140b3ac
[36m[2021-04-26 21:27:06 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-26 21:27:07 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-26 21:27:07 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-26 21:27:07 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-26 21:27:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:27:07 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:08 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-26 21:27:08 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:27:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:27:08 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '54', 'date': 'Mon, 26 Apr 2021 19:27:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:12 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:27:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '62', 'date': 'Mon, 26 Apr 2021 19:27:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:27:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '33', 'date': 'Mon, 26 Apr 2021 19:27:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:27:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Mon, 26 Apr 2021 19:27:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:27:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '31', 'date': 'Mon, 26 Apr 2021 19:27:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:27:26 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:27:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:27:26 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:28 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-26 21:27:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:27:28 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:31 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-26 21:27:31 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:27:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:27:31 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 54, in set_fault
        target = (destination["host"], destination["subset"])
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 228, in add_abort_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 54, in set_fault
        target = (destination["host"], destination["subset"])
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-26 21:27:31 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-26 21:27:31 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-26 21:27:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:27:38 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:40 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-26 21:27:40 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:27:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:27:40 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:27:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:27:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Mon, 26 Apr 2021 19:27:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:27:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:27:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:27:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:27:46 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-26 21:27:48 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[32m[2021-04-26 21:27:48 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-26 21:27:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:27:48 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:27:50 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-26 21:27:50 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-26 21:27:50 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-26 21:27:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:32:25 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-26 21:32:25 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-26 21:32:25 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-26 21:32:36 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-26 21:32:36 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-26 21:32:36 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-26 21:32:37 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-26 21:32:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:32:37 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:32:37 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:37 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-26 21:32:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:32:37 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-26 21:32:37 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-26 21:32:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:32:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:32:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:32:37 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-26 21:32:37 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:32:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:32:37 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-26 21:32:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:32:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:32:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:32:37 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-26 21:32:37 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-26 21:32:37 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:39 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/37d209d5-4c52-43a4-b9ea-67146f4332e3
[36m[2021-04-26 21:32:39 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-26 21:32:39 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-26 21:32:39 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-26 21:32:39 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-26 21:32:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:32:39 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:41 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-26 21:32:41 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:32:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:32:41 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:32:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '39', 'date': 'Mon, 26 Apr 2021 19:32:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:32:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:32:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:32:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Mon, 26 Apr 2021 19:32:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:32:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:32:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:32:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '39', 'date': 'Mon, 26 Apr 2021 19:32:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:32:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:32:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:32:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Mon, 26 Apr 2021 19:32:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:32:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:32:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:32:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:32:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Mon, 26 Apr 2021 19:32:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:32:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:32:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:32:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:32:59 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:32:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:32:59 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:01 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-26 21:33:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:33:01 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:05 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-26 21:33:05 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:33:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:33:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:33:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-v1-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:53Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:53Z'}], 'name': 'mg-v1-vs', 'namespace': 'default', 'resourceVersion': '3504', 'uid': '14949f29-652e-4db8-8951-371976c9fe8f'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:33:05 GMT', 'Content-Length': '1081'}}'
[32m[2021-04-26 21:33:05 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-26 21:33:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:33:11 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:13 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-26 21:33:13 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:33:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:33:13 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:33:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Mon, 26 Apr 2021 19:33:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:33:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:33:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:33:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Mon, 26 Apr 2021 19:33:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:33:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:33:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:33:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Mon, 26 Apr 2021 19:33:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:33:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:33:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:33:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '47', 'date': 'Mon, 26 Apr 2021 19:33:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:33:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:33:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:33:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Mon, 26 Apr 2021 19:33:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:33:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:33:31 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:33:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:33:31 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-26 21:33:33 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-26 21:33:33 INFO] [run:809][39m Let's rollback...
[36m[2021-04-26 21:33:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:33:33 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:34 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-26 21:33:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:36 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-26 21:33:36 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:33:36 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:33:36 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:33:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-v1-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:53Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:53Z'}], 'name': 'mg-v1-vs', 'namespace': 'default', 'resourceVersion': '3504', 'uid': '14949f29-652e-4db8-8951-371976c9fe8f'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:33:36 GMT', 'Content-Length': '1081'}}'
[36m[2021-04-26 21:33:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:33:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:33:38 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:33:39 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-26 21:33:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:33:39 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:33:42 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-26 21:33:42 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-26 21:33:42 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-26 21:33:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:37:07 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-26 21:37:07 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-26 21:37:07 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-26 21:37:08 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-26 21:37:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:37:08 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:37:08 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:08 DEBUG] [controls:109][39m Using experiment ID aed96dc0-cc2c-4416-bbb6-de87b13833c3 from workspace for experiment at location abort-failure-rollback-read.yaml
[36m[2021-04-26 21:37:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:37:08 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-26 21:37:08 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-26 21:37:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:37:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:37:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:37:08 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-26 21:37:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:37:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:37:08 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-26 21:37:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:37:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:37:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:37:08 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-26 21:37:08 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-26 21:37:08 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:10 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/4f272617-0c1c-4889-94bb-8e373ddcb633
[36m[2021-04-26 21:37:10 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-26 21:37:10 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-26 21:37:10 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-26 21:37:10 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-26 21:37:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:37:10 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:12 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-26 21:37:12 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:37:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:37:12 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '22', 'date': 'Mon, 26 Apr 2021 19:37:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:17 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Mon, 26 Apr 2021 19:37:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '42', 'date': 'Mon, 26 Apr 2021 19:37:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '21', 'date': 'Mon, 26 Apr 2021 19:37:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '38', 'date': 'Mon, 26 Apr 2021 19:37:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:37:30 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:37:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:37:30 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:32 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-26 21:37:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:37:32 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:35 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-26 21:37:35 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:37:35 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:37:35 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:37:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"ms-read-vs","namespace":"default"},"spec":{"hosts":["ms-read"],"http":[{"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:56Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:56Z'}], 'name': 'ms-read-vs', 'namespace': 'default', 'resourceVersion': '3809', 'uid': '84dfd451-8d6a-40e6-882e-2112a9250982'}, 'spec': {'hosts': ['ms-read'], 'http': [{'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:37:35 GMT', 'Content-Length': '1093'}}'
[32m[2021-04-26 21:37:35 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-26 21:37:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:37:38 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:39 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-26 21:37:39 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:37:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:37:39 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Mon, 26 Apr 2021 19:37:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Mon, 26 Apr 2021 19:37:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '14', 'date': 'Mon, 26 Apr 2021 19:37:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Mon, 26 Apr 2021 19:37:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:37:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:37:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:37:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Mon, 26 Apr 2021 19:37:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-26 21:37:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:37:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:37:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:37:57 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:37:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:37:57 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-26 21:37:59 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-26 21:37:59 INFO] [run:809][39m Let's rollback...
[36m[2021-04-26 21:37:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:37:59 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:38:00 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-26 21:38:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:38:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:38:02 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-26 21:38:02 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:38:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:38:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:38:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"ms-read-vs","namespace":"default"},"spec":{"hosts":["ms-read"],"http":[{"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:56Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:56Z'}], 'name': 'ms-read-vs', 'namespace': 'default', 'resourceVersion': '3809', 'uid': '84dfd451-8d6a-40e6-882e-2112a9250982'}, 'spec': {'hosts': ['ms-read'], 'http': [{'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:38:03 GMT', 'Content-Length': '1093'}}'
[36m[2021-04-26 21:38:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:38:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:38:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:38:04 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:38:06 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-26 21:38:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:38:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:38:08 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-26 21:38:08 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-26 21:38:08 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-26 21:38:08 DEBUG] [caching:42][39m Clearing activities cache
