[36m[2021-04-13 09:04:26 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 09:04:26 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 09:04:26 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 09:04:26 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 09:04:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:04:26 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:26 DEBUG] [workspace:85][39m The ChaosIQ workspace file could not be found at '.chaosiq'.
[36m[2021-04-13 09:04:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:04:26 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:26 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:04:26 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 09:04:26 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 09:04:26 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:04:26 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:04:26 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:04:27 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 09:04:27 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:04:27 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:04:27 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 09:04:27 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:04:27 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:04:27 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:04:27 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 09:04:27 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 09:04:27 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:29 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/46d088bd-24da-4644-bce5-db5f2c8b9a3a
[36m[2021-04-13 09:04:29 DEBUG] [workspace:147][39m Registering experiment 'abort-failure-mg.yaml' with ID '5d271440-bde4-4a3e-96fd-c780781a553f' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-13 09:04:29 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 09:04:29 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 09:04:29 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 09:04:29 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 09:04:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:04:29 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:31 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 09:04:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:04:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:04:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:04:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 13 Apr 2021 07:04:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:04:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 07:04:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:04:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:04:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 13 Apr 2021 07:04:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:04:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 09:04:48 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 09:04:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:04:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:50 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 09:04:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:04:50 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:04:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:04:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:04:53 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 09:04:53 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 09:04:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:04:53 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:04:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T07:03:55Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T07:04:53Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '16020', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 07:04:53 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-13 09:04:53 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 09:05:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:05:05 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:06 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 09:05:06 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:05:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:05:06 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:05:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:05:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 07:05:10 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 09:05:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:05:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:05:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:05:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 09:05:13 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 09:05:13 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 09:05:13 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 09:05:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:05:13 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:05:15 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 09:05:15 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 09:05:15 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 09:05:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:14:50 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 09:14:50 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 09:14:50 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:51 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 09:14:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:14:51 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 09:14:51 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 09:14:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:14:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:14:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:14:51 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 09:14:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 09:14:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 09:14:51 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 09:14:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 09:14:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 09:14:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 09:14:51 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 09:14:51 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 09:14:51 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:14:53 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/06dddc56-4975-4718-9cb9-07b898a2d19c
[36m[2021-04-13 09:14:53 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 09:14:53 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 09:14:53 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 09:14:53 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 09:14:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:14:53 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:55 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 09:14:55 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:14:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:14:55 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:14:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:14:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:14:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:14:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 07:14:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:14:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:14:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 07:15:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:05 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 07:15:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 07:15:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 07:15:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 09:15:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 09:15:13 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 09:15:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:13 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:14 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 09:15:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:15:14 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:18 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 09:15:18 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 09:15:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:15:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 09:15:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T07:14:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T07:15:18Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '16695', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 07:15:18 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-13 09:15:18 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 09:15:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 09:15:30 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:31 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 09:15:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 09:15:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 09:15:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 09:15:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 07:15:34 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 09:15:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 09:15:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 09:15:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 09:15:36 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 09:15:38 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 09:15:38 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 09:15:38 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 09:15:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 09:15:38 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 09:15:40 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 09:15:40 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 09:15:40 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 09:15:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 20:27:11 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 20:27:11 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 20:27:11 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:12 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 20:27:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 20:27:12 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 20:27:12 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 20:27:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 20:27:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 20:27:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 20:27:12 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 20:27:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 20:27:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 20:27:12 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 20:27:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 20:27:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 20:27:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 20:27:12 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 20:27:12 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 20:27:12 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:14 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6f831db7-d0d8-426c-b397-9ea80bf5a88c
[36m[2021-04-13 20:27:14 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 20:27:14 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 20:27:14 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 20:27:14 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 20:27:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 20:27:14 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:16 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 20:27:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 20:27:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 18:27:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 18:27:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 18:27:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '17', 'date': 'Tue, 13 Apr 2021 18:27:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 18:27:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 20:27:34 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 20:27:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:35 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 20:27:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 20:27:35 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:39 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 20:27:39 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 20:27:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 20:27:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 20:27:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":10,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T07:03:55Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T18:26:50Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T18:27:39Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '17633', 'uid': '41cb8cca-ddab-4214-a8dd-910c81e04756'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 10, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 18:27:39 GMT', 'Content-Length': '1726'}}'
[32m[2021-04-13 20:27:39 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 20:27:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 20:27:51 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:52 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 20:27:52 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 20:27:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:27:52 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '17', 'date': 'Tue, 13 Apr 2021 18:27:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 20:27:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:27:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:27:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 20:27:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 20:27:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 18:27:58 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 20:27:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 20:27:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:28:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 20:28:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 20:28:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 20:28:02 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 20:28:02 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 20:28:02 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 20:28:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 20:28:02 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 20:28:04 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 20:28:04 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 20:28:04 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 20:28:04 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:42:30 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:42:30 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:42:30 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:42:31 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:42:31 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:31 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:42:31 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:42:31 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:42:31 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:42:31 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:42:31 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:42:31 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:42:37 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:42:37 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:42:37 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:42:37 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:42:37 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:42:37 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:42:37 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:42:37 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:42:37 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:42:37 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/6534e656-2356-42f5-9c46-46f1c0d7a187
[36m[2021-04-13 21:42:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:42:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:42:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:42:40 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:42:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:42:40 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:43 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:42:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:42:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:42:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:42:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 19:42:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 19:42:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 13 Apr 2021 19:42:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:42:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:42:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:42:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:42:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 13 Apr 2021 19:42:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:42:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:42:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:43:01 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:43:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:02 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 21:43:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:43:02 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:06 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 21:43:06 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 21:43:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:43:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:43:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"httpbin","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"delegate":{"name":"mg-vs","namespace":"default"},"match":[{"uri":{"prefix":"/mg"}}],"rewrite":{"uri":" "}},{"delegate":{"name":"ms-read-vs","namespace":"default"},"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "}}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 1, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T19:38:11Z'}], 'name': 'httpbin', 'namespace': 'default', 'resourceVersion': '22155', 'uid': '08f80ee0-8d2d-46fb-879f-6f3d67eb790d'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'delegate': {'name': 'mg-vs', 'namespace': 'default'}, 'match': [{'uri': {'prefix': '/mg'}}], 'rewrite': {'uri': ' '}}, {'delegate': {'name': 'ms-read-vs', 'namespace': 'default'}, 'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 19:43:06 GMT', 'Content-Length': '1462'}}'
[32m[2021-04-13 21:43:06 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 21:43:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:43:18 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:19 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 21:43:19 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:43:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:19 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '32', 'date': 'Tue, 13 Apr 2021 19:43:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '45', 'date': 'Tue, 13 Apr 2021 19:43:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '90', 'date': 'Tue, 13 Apr 2021 19:43:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '47', 'date': 'Tue, 13 Apr 2021 19:43:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:43:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:43:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 19:43:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:43:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:43:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:43:38 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:43:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:43:38 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:40 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 21:43:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:43:40 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:42 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 21:43:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:43:42 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:43:43 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-13 21:43:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:43:43 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:43:47 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:43:47 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:43:47 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:43:47 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:46:38 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:46:38 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:46:38 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:46:39 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:46:39 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:39 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:46:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:46:39 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:46:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:46:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:46:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:46:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:46:42 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:46:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:46:42 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:46:42 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:46:42 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:46:42 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:46:42 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:46:42 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:46:42 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:46:42 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:45 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/92a1ef6e-702d-436c-949a-831e9f844579
[36m[2021-04-13 21:46:45 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:46:45 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:46:45 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:46:45 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:46:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:46:45 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:46 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:46:46 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:46:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:46:46 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 13 Apr 2021 19:46:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 19:46:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 19:46:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:46:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:46:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:46:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:46:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Tue, 13 Apr 2021 19:46:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:46:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:46:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:47:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:47:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:47:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:47:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 21:47:04 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 21:47:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:04 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:06 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 21:47:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:47:06 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:09 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 21:47:09 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 21:47:09 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:47:09 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 21:47:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T19:38:11Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T19:47:09Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '22756', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 19:47:09 GMT', 'Content-Length': '1393'}}'
[32m[2021-04-13 21:47:09 INFO] [activity:198][39m Pausing after activity for 10s...
[36m[2021-04-13 21:47:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 21:47:21 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:23 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 21:47:23 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:47:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:23 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:47:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:47:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:47:26 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:47:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:47:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:47:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:47:28 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 21:47:29 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 21:47:29 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 21:47:29 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 21:47:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:47:29 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:47:32 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:47:32 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:47:32 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:47:32 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:48:37 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:48:37 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:48:37 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:38 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:48:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:48:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:48:38 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:48:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:48:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:48:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:48:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:48:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:48:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:48:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:48:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:48:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:48:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:48:38 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:48:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/45784375-0e4a-4ed3-8854-d65b3bdd3b4d
[36m[2021-04-13 21:48:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:48:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:48:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:48:40 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-13 21:48:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:48:41 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:42 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:48:42 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:48:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:48:42 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:48:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 19:48:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 21:48:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:48:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:48:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:48:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:48:48 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:48:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:48:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:48:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:48:50 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 21:48:51 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-13 21:48:51 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-13 21:48:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:48:51 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:48:54 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:48:54 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:48:54 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:48:54 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:55:09 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 21:55:09 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 21:55:09 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:55:10 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 21:55:10 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:10 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 21:55:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:55:10 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 21:55:10 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 21:55:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:55:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:55:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:55:14 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 21:55:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 21:55:14 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 21:55:14 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 21:55:14 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 21:55:14 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 21:55:14 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 21:55:14 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 21:55:14 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:14 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:16 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e7d05578-0eec-481e-9eaf-382a062f9705
[36m[2021-04-13 21:55:16 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 21:55:16 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 21:55:16 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 21:55:16 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 21:55:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:55:16 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:18 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 21:55:18 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 21:55:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:55:18 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:55:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 21:55:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 19:55:21 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 21:55:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 21:55:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 21:55:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 21:55:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-13 21:55:24 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-13 21:55:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 21:55:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 21:55:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:55:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:25 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 21:55:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 21:55:25 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 21:55:27 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-13 21:55:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 21:55:27 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 21:55:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 21:55:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 21:55:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 21:55:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:00:10 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:00:10 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:00:10 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:11 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:00:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:00:11 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:00:11 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:00:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:00:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:00:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:00:11 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:00:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:00:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:00:11 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:00:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:00:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:00:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:00:11 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:00:11 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:00:11 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:13 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/dccad936-153f-483f-acac-45a550c6f793
[36m[2021-04-13 22:00:13 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:00:13 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:00:13 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:00:13 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:00:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:00:13 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:00:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:00:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 20:00:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:00:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 13 Apr 2021 20:00:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:00:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:00:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:00:32 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:00:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:32 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:34 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:00:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:00:34 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:37 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:00:37 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:00:37 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:00:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:00:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:00:02Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:00:39Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23642', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:00:39 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:00:39 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:00:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:00:42 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:43 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:00:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:00:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:00:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:00:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:00:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:00:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:00:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:00:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:00:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:00:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:00:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:00:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:00:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:01:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:00:59 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:01:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:01:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:01:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:01:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:01:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:01:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:01:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:01:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:01:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:01:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:01:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:01:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:01:06 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:01:06 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:01:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:01:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:01:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:01:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:01:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:01:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:02:36 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:02:36 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:02:36 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:02:37 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:02:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:02:37 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:02:37 ERROR] [cli:164][39m Path "abort-failure-rollback-mg.yaml.yaml" does not exist.
[36m[2021-04-13 22:02:37 DEBUG] [cli:165][39m Path "abort-failure-rollback-mg.yaml.yaml" does not exist.
[36m[2021-04-13 22:03:02 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:03:02 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:03:02 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:03:03 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:03:03 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:03:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:03:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:03:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:03:03 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:03:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:03:03 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:03:03 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:03:03 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:03:03 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:03:03 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:03:03 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:03:03 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:03 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:05 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e97fb0da-a94f-4665-a765-4abc198d20ac
[36m[2021-04-13 22:03:05 DEBUG] [workspace:147][39m Registering experiment 'abort-failure-rollback-mg.yaml' with ID 'c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-13 22:03:05 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:03:05 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:03:05 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:03:05 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:03:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:03:05 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:07 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:03:07 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:03:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:07 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 20:03:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 20:03:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:03:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 13 Apr 2021 20:03:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 13 Apr 2021 20:03:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:03:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:03:25 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:03:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:25 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:27 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:03:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:03:27 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:30 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:03:30 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:03:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23823', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:03:30 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:03:30 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:03:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:03:33 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:34 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:03:34 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:03:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:34 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:03:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:03:37 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:03:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:03:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:03:39 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:03:41 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:03:41 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:03:41 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:03:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:03:41 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:43 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-13 22:03:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:44 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-13 22:03:44 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:03:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:44 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:03:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 7, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23839', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:03:44 GMT', 'Content-Length': '1398'}}'
[36m[2021-04-13 22:03:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:03:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:03:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:03:47 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:03:47 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:03:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:03:47 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:03:50 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:03:50 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:03:50 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:03:50 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:04:10 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:04:10 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:04:10 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:11 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:04:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:04:11 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:04:11 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:04:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:04:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:04:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:04:11 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:04:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:04:11 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:04:11 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:04:11 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:04:11 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:04:11 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:04:11 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:04:11 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:04:11 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:14 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/72489028-3971-4f1c-922d-4a7d0a778de7
[36m[2021-04-13 22:04:14 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:04:14 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:04:14 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:04:14 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:04:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:04:14 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:04:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:04:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 13 Apr 2021 20:04:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 20:04:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:04:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 13 Apr 2021 20:04:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '13', 'date': 'Tue, 13 Apr 2021 20:04:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-13 22:04:34 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-13 22:04:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:36 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-13 22:04:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:04:36 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:39 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-13 22:04:39 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-13 22:04:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:04:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-13 22:04:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T19:38:11Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T20:01:41Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T20:03:30Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '23899', 'uid': '30c16340-15e4-49b6-a078-4dbf6201704b'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ff78395c-7811-4ae4-84a3-a7bf314af415', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'fa4de42a-8bf4-4763-883a-51e645f95065', 'Date': 'Tue, 13 Apr 2021 20:04:39 GMT', 'Content-Length': '1461'}}'
[32m[2021-04-13 22:04:39 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-13 22:04:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-13 22:04:42 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:44 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-13 22:04:44 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:04:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:04:44 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:04:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 13 Apr 2021 20:04:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 20:04:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:04:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:04:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 13 Apr 2021 20:04:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:04:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:04:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:04:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:04:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:05:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:04:59 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:05:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:05:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:05:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:05:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:05:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:05:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:05:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:05:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:05:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:05:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:05:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:05:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:05:07 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-13 22:05:07 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-13 22:05:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:05:07 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:05:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:05:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:05:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:05:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:09:09 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-13 22:09:09 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-13 22:09:09 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:10 DEBUG] [controls:109][39m Using experiment ID 5d271440-bde4-4a3e-96fd-c780781a553f from workspace for experiment at location abort-failure-mg.yaml
[36m[2021-04-13 22:09:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:09:10 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-13 22:09:10 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-13 22:09:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:09:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:09:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:09:10 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-13 22:09:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-13 22:09:10 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-13 22:09:10 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-13 22:09:10 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-13 22:09:10 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-13 22:09:10 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-13 22:09:10 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-13 22:09:10 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:10 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:13 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/c0fa3957-d5c1-488e-a8b3-ba552da1d77e
[36m[2021-04-13 22:09:13 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-13 22:09:13 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-13 22:09:13 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-13 22:09:13 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-13 22:09:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:09:13 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:14 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-13 22:09:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-13 22:09:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:09:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:09:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Tue, 13 Apr 2021 20:09:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-13 22:09:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:09:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-13 22:09:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 20:09:20 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-13 22:09:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-13 22:09:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-13 22:09:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-13 22:09:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-13 22:09:24 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-13 22:09:24 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-13 22:09:24 INFO] [run:809][39m Let's rollback...
[36m[2021-04-13 22:09:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:09:24 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:25 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-13 22:09:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-13 22:09:25 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-13 22:09:27 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-13 22:09:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-13 22:09:27 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-13 22:09:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-13 22:09:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-13 22:09:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-13 22:09:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:04:35 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:04:35 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:04:35 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:04:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:04:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:04:39 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:04:39 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:39 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:04:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:04:39 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:04:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:04:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:04:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:04:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:04:42 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:04:42 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:04:42 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:04:42 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:04:42 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:04:42 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:04:42 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:04:42 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:04:42 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:04:42 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:04:47 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/289b4afe-db74-4624-a5e6-c61e67bca842
[36m[2021-04-14 00:04:47 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:04:47 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:04:47 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:04:47 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:04:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:04:47 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:51 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:04:51 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:04:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:04:51 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:04:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:04:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:04:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:04:59 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:05:00 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f7ddd5b5670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:05:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:05:04 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:05:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:05:04 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:05:08 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:05:08 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:05:08 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:05:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:05:08 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:11 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:05:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:15 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:05:15 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:05:15 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:05:16 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:05:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T21:43:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '5659', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:05:16 GMT', 'Content-Length': '1470'}}'
[36m[2021-04-14 00:05:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:05:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:05:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:05:20 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:05:24 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:05:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:05:24 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:05:29 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:05:29 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:05:29 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:05:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:06:45 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:06:45 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:06:46 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:49 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:06:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:06:49 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:06:49 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:06:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:06:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:06:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:06:49 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:06:49 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:06:49 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:06:49 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:06:49 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:06:49 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:06:49 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:06:49 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:06:49 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:06:49 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:06:55 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/9f7c53fc-d4ea-4c8c-acdd-8f3f15a9411e
[36m[2021-04-14 00:06:55 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:06:55 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:06:55 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:06:55 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:06:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:06:55 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:06:59 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:06:59 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:06:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:06:59 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:07:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:07:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:07:07 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:07:07 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd7a4a90670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:07:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:07:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:07:11 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:07:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:07:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:07:15 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:07:15 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:07:15 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:07:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:07:15 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:07:19 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:07:23 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-14 00:07:23 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:07:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:07:23 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:07:28 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:07:28 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:07:28 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:07:28 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:08:58 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:08:58 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:08:58 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:09:01 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:09:01 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:01 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:09:01 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:09:01 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:09:01 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:09:01 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:09:01 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:09:01 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:09:02 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:09:02 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:09:02 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:09:02 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:09:02 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:09:02 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:09:02 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:09:02 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:09:02 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:02 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:09:06 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/0ad0c770-34ff-49c4-b4ed-47ccf15b32d3
[36m[2021-04-14 00:09:07 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:09:07 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:09:07 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:09:07 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:09:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:09:07 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:11 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:09:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:09:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:09:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:09:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:09:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:09:19 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 159, in _new_conn
        conn = connection.create_connection(
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 84, in create_connection
        raise err
      File "/usr/lib/python3/dist-packages/urllib3/util/connection.py", line 74, in create_connection
        sock.connect(sa)
    ConnectionRefusedError: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 387, in _make_request
        conn.request(method, url, **httplib_request_kw)
      File "/usr/lib/python3.8/http/client.py", line 1255, in request
        self._send_request(method, url, body, headers, encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1301, in _send_request
        self.endheaders(body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1250, in endheaders
        self._send_output(message_body, encode_chunked=encode_chunked)
      File "/usr/lib/python3.8/http/client.py", line 1010, in _send_output
        self.send(msg)
      File "/usr/lib/python3.8/http/client.py", line 950, in send
        self.connect()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 187, in connect
        conn = self._new_conn()
      File "/usr/lib/python3/dist-packages/urllib3/connection.py", line 171, in _new_conn
        raise NewConnectionError(
    urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 436, in increment
        raise MaxRetryError(_pool, url, error or ResponseError(cause))
    urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 516, in send
        raise ConnectionError(e, request=request)
    requests.exceptions.ConnectionError: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 86, in run_http_activity
        raise ActivityFailed("failed to connect to {u}: {x}".format(
    chaoslib.exceptions.ActivityFailed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[31m[2021-04-14 00:09:19 ERROR] [activity:188][39m   => failed: failed to connect to http://192.168.49.2:30590/mg/health: HTTPConnectionPool(host='192.168.49.2', port=30590): Max retries exceeded with url: /mg/health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f9e8cfed670>: Failed to establish a new connection: [Errno 111] Connection refused'))
[36m[2021-04-14 00:09:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:09:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:09:23 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-14 00:09:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:09:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:09:27 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:09:27 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:09:27 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:09:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:09:27 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:09:29 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:09:34 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-14 00:09:34 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:09:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:09:34 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:09:39 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:09:39 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:09:39 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:09:39 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:19:18 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:19:18 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:19:18 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:19:21 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:19:21 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:21 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:19:21 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:19:21 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:19:21 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:19:21 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:19:21 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:19:21 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:19:21 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:19:22 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:19:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:19:22 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:19:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:19:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:19:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:19:22 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:19:22 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:19:22 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:27 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/89e43115-3332-440a-9263-4942e4f87b6b
[36m[2021-04-14 00:19:27 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:19:27 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:19:27 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:19:27 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:19:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:19:27 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:31 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:19:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:19:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:19:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:19:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 404, 'headers': {'date': 'Tue, 13 Apr 2021 22:19:39 GMT', 'server': 'istio-envoy', 'content-length': '0'}, 'body': ''}'
[36m[2021-04-14 00:19:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:19:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:19:43 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:19:47 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:19:47 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:19:47 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:19:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:19:47 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:50 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:19:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:19:54 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:19:54 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:19:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:19:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:19:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 3, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:17:07Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '6446', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:19:54 GMT', 'Content-Length': '1468'}}'
[36m[2021-04-14 00:19:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:19:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:19:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:19:59 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:20:03 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:20:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:20:03 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:20:08 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:20:08 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:20:08 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:20:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:30:55 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:30:55 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:30:55 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:30:58 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:30:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:30:58 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:30:58 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:30:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:30:58 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:30:58 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:30:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:30:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:30:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:30:58 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:30:58 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:30:58 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:30:58 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:30:58 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:30:58 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:30:58 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:30:58 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:30:59 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:30:59 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:04 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/38bbab35-6c64-47d6-9d67-acd868aa0529
[36m[2021-04-14 00:31:04 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:31:04 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:31:04 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:31:04 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:31:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:31:04 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:08 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:31:08 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:31:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:31:08 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Tue, 13 Apr 2021 22:31:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 13 Apr 2021 22:31:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:31:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 13 Apr 2021 22:31:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:31:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:31:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 13 Apr 2021 22:31:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:31:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:31:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:31:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-14 00:31:52 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-14 00:31:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:31:52 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:31:56 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-14 00:31:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:31:56 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:04 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-14 00:32:04 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:32:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:22:11Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '7428', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:32:04 GMT', 'Content-Length': '1460'}}'
[32m[2021-04-14 00:32:04 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-14 00:32:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:32:10 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:14 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-14 00:32:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:32:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:32:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:32:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:32:22 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:32:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:32:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:32:26 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:32:30 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:32:30 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:32:30 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:32:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:32:30 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:34 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:32:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:38 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:32:38 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:32:38 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:40 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:32:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 6, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:05:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:22:11Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '7465', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:32:40 GMT', 'Content-Length': '1397'}}'
[36m[2021-04-14 00:32:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:32:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:32:45 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:32:49 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-14 00:32:49 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-14 00:32:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:32:49 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:32:54 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:32:54 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:32:54 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:32:54 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:50:29 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:50:29 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:50:29 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:50:33 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:50:33 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:33 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:50:33 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:50:33 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:50:33 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:50:33 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:50:33 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:50:33 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:50:34 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:50:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:50:34 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:50:34 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:50:34 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:50:34 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:50:34 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:50:34 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:50:34 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:50:34 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:50:39 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/37a7620e-96d3-4e6a-964d-9814a4d7e7ba
[36m[2021-04-14 00:50:39 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:50:39 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:50:39 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:50:39 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:50:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:50:39 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:43 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:50:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:50:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:50:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:50:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:50:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 13 Apr 2021 22:50:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:50:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:50:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:50:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:50:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 13 Apr 2021 22:51:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:08 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:08 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 13 Apr 2021 22:51:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 13 Apr 2021 22:51:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:51:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:51:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:51:25 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:51:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:51:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:51:30 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:51:34 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:51:34 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:51:34 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:51:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:51:34 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:38 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:51:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:43 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:51:43 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:51:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:51:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:51:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}},"delay":{"fixedDelay":"5s","percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8747', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:51:43 GMT', 'Content-Length': '1534'}}'
[36m[2021-04-14 00:51:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:51:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:51:47 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:51:50 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-14 00:51:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:51:50 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:51:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:51:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:51:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:51:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:52:13 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:52:13 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:52:13 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:52:16 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:52:16 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:16 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:52:16 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:52:16 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:52:16 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:52:16 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:52:16 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:52:16 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:52:17 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:52:17 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:52:17 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:52:17 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:52:17 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:52:17 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:52:17 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:52:17 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:52:17 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:17 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:22 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/4c61dc85-744f-42eb-9b0d-b997b0454527
[36m[2021-04-14 00:52:22 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:52:22 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:52:22 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:52:22 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:52:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:52:22 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:26 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:52:26 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:52:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:52:26 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:52:29 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-14 00:52:33 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-14 00:52:33 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:52:33 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:52:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:52:33 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:37 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:52:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:52:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:41 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:52:41 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:52:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:52:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:52:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"fault":{"abort":{"httpStatus":500,"percentage":{"value":50}},"delay":{"fixedDelay":"5s","percentage":{"value":50}}},"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8810', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:52:41 GMT', 'Content-Length': '1552'}}'
[36m[2021-04-14 00:52:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:52:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:52:46 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:52:50 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-14 00:52:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:52:50 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:52:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:52:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:52:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:52:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:53:17 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-14 00:53:17 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-14 00:53:17 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:20 DEBUG] [controls:109][39m Using experiment ID c3f6b1ac-3a1d-4e09-b289-14c2fae1ecc5 from workspace for experiment at location abort-failure-rollback-mg.yaml
[36m[2021-04-14 00:53:20 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:53:20 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-14 00:53:20 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-14 00:53:20 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:53:20 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:53:20 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:53:20 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-14 00:53:20 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-14 00:53:20 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-14 00:53:20 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-14 00:53:20 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-14 00:53:20 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-14 00:53:20 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-14 00:53:20 INFO] [run:323][39m Running experiment: What happens if we abort responses
[36m[2021-04-14 00:53:20 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-14 00:53:20 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:26 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/2c2648ed-232d-4165-8326-bd2cd45f627e
[36m[2021-04-14 00:53:26 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-14 00:53:26 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-14 00:53:26 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-14 00:53:26 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-14 00:53:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:53:26 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:30 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-14 00:53:30 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:53:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:53:30 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:53:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 13 Apr 2021 22:53:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:53:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:53:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Tue, 13 Apr 2021 22:53:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:53:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:53:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:53:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:53:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 13 Apr 2021 22:54:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:54:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:54:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 13 Apr 2021 22:54:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-14 00:54:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:14 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-14 00:54:14 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-14 00:54:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:14 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:18 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-14 00:54:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:54:19 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:27 INFO] [activity:161][39m Action: abort-failure
[36m[2021-04-14 00:54:27 DEBUG] [python:34][39m Activity 'abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:54:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:54:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:54:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 9, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8930', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'fault': {'abort': {'httpStatus': 500, 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:54:27 GMT', 'Content-Length': '1460'}}'
[32m[2021-04-14 00:54:27 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-14 00:54:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-14 00:54:32 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:36 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-14 00:54:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-14 00:54:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-14 00:54:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 500, 'headers': {'content-length': '18', 'content-type': 'text/plain', 'date': 'Tue, 13 Apr 2021 22:54:44 GMT', 'server': 'istio-envoy'}, 'body': 'fault filter abort'}'
[36m[2021-04-14 00:54:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:54:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-14 00:54:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-14 00:54:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-14 00:54:52 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-14 00:54:52 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-14 00:54:52 INFO] [run:809][39m Let's rollback...
[36m[2021-04-14 00:54:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:54:52 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:54:57 INFO] [rollback:28][39m Rollback: remove-abort-failure
[36m[2021-04-14 00:54:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:54:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:55:02 INFO] [activity:161][39m Action: remove-abort-failure
[36m[2021-04-14 00:55:02 DEBUG] [python:34][39m Activity 'remove-abort-failure' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-14 00:55:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:55:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-14 00:55:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-vs","namespace":"default"},"spec":{"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-13T21:43:19Z', 'generation': 10, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-13T22:48:17Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-13T22:51:43Z'}], 'name': 'mg-vs', 'namespace': 'default', 'resourceVersion': '8978', 'uid': 'cb6237c6-6515-484e-b798-6853ff60ef2d'}, 'spec': {'http': [{'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'f1ceb1db-0ade-4244-aac9-8b5b4edc061e', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c53fb14d-506f-4a79-b4e1-f0cd21da922b', 'Date': 'Tue, 13 Apr 2021 22:55:02 GMT', 'Content-Length': '1398'}}'
[36m[2021-04-14 00:55:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-14 00:55:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:55:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-14 00:55:06 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-14 00:55:10 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-14 00:55:10 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-14 00:55:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-14 00:55:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-14 00:55:16 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-14 00:55:16 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-14 00:55:16 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-14 00:55:16 DEBUG] [caching:42][39m Clearing activities cache
