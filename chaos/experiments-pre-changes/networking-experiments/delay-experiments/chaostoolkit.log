[36m[2021-04-20 18:05:51 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:05:51 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:05:51 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:05:52 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:05:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:05:52 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:05:52 DEBUG] [workspace:85][39m The ChaosIQ workspace file could not be found at '.chaosiq'.
[36m[2021-04-20 18:05:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:05:52 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:05:52 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:05:52 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:05:52 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:05:52 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:05:52 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:05:52 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:05:52 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:05:52 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:05:52 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:05:52 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:05:52 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:05:52 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:05:52 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:05:52 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:05:52 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:05:52 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:05:55 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/bca6de25-61d6-4df7-8244-f686d9810062
[36m[2021-04-20 18:05:55 DEBUG] [workspace:147][39m Registering experiment 'delay-mg.yaml' with ID '48147c31-72ab-4256-812d-8a1f8d3e28a3' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-20 18:05:55 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:05:55 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:05:55 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:05:55 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:05:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:05:55 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:05:56 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:05:56 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:05:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:05:56 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:05:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:05:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:06:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 404, 'headers': {'date': 'Tue, 20 Apr 2021 16:06:00 GMT', 'server': 'istio-envoy', 'content-length': '0'}, 'body': ''}'
[36m[2021-04-20 18:06:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:06:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:06:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 18:06:03 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 18:06:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:06:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:06:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:06:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:05 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:06:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:06 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:06:06 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:06:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:06:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:06:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 3, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:04:03Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '3559', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:06:06 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 18:06:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:06:08 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:10 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 18:06:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:06:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:12 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:06:12 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:06:12 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:06:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:06:45 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:06:45 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:06:45 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:06:46 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:06:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:06:46 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:06:46 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:46 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:06:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:06:46 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:06:46 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:06:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:06:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:06:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:06:46 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:06:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:06:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:06:46 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:06:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:06:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:06:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:06:46 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:06:46 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:06:46 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:49 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e201f833-fd8b-400a-8851-847f6bf4f154
[36m[2021-04-20 18:06:49 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:06:49 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:06:49 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:06:49 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:06:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:06:49 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:50 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:06:50 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:06:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:06:50 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:06:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 16:06:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:06:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:06:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:06:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:06:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:06:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:06:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:06:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:06:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:06:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:07:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Tue, 20 Apr 2021 16:06:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:07:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:07:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:03 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:07:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 20 Apr 2021 16:07:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:07:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:07:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:07:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:07:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:07:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:07:07 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:07:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:07:07 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:09 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:07:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:07:09 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:12 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:07:12 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:07:12 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:07:12 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:07:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 4, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:04:03Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '3734', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:07:12 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 18:07:12 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:07:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:07:15 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:16 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:07:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:07:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:07:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:07:35 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 18:07:35 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 18:07:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:07:37 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 18:07:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:07:37 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 18:07:38 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 18:07:38 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:07:38 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:07:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:07:38 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:40 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:07:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:41 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:07:41 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:07:41 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:07:42 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:07:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 5, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T15:35:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:04:03Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '3767', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:07:42 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 18:07:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:07:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:07:43 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:07:45 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 18:07:45 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 18:07:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:07:45 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:07:47 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:07:47 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:07:47 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:07:47 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:37:12 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:37:12 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:37:12 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:37:13 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:37:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:37:13 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:37:13 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:13 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:37:13 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:37:13 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:37:13 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:37:13 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:37:13 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:37:13 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:37:13 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:37:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:37:13 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:37:13 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:37:13 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:37:13 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:37:13 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:37:13 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:37:13 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:37:13 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:15 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a0075eda-367e-486c-b6b5-4f6f86399f27
[36m[2021-04-20 18:37:15 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:37:15 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:37:15 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:37:15 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:37:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:37:15 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:17 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:37:17 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:37:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:37:17 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:37:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 16:37:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:37:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 16:37:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '31', 'date': 'Tue, 20 Apr 2021 16:37:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:37:35 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:37:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:37:35 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:37 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:37:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:37:37 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:40 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:37:40 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:37:40 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:37:41 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 54, in set_fault
        target = (destination["host"], destination["subset"])
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 54, in set_fault
        target = (destination["host"], destination["subset"])
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:37:41 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 18:37:41 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:37:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:37:43 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:45 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:37:45 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:37:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:37:45 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 20 Apr 2021 16:37:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 20 Apr 2021 16:37:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 20 Apr 2021 16:37:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:37:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:37:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:37:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:37:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:37:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:37:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:37:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:38:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:01 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 16:38:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:38:03 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:38:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:38:03 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:38:05 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:38:05 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:38:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:38:05 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:06 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:38:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:08 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:38:08 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:38:08 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:38:08 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 136, in unset_fault
        target = (destination["host"], destination["subset"])
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 136, in unset_fault
        target = (destination["host"], destination["subset"])
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:38:08 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:38:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:08 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:38:10 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:11 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 18:38:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:38:11 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:14 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:38:14 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:38:14 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:38:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:38:31 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:38:31 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:38:31 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:38:32 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:38:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:38:32 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:38:32 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:32 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:38:32 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:38:32 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:38:32 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:38:32 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:38:32 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:38:32 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:38:32 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:38:32 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:38:32 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:38:32 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:38:32 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:38:32 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:38:32 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:38:32 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:38:32 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:38:32 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:34 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/59df3252-edc9-4d61-afcf-7e47d45f0e93
[36m[2021-04-20 18:38:34 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:38:34 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:38:34 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:38:34 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:38:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:38:34 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:36 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:38:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:38:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:38:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 16:38:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:38:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:38:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:38:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 16:38:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:38:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 16:38:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:38:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:38:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:38:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:38:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:38:54 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:38:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:38:54 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:55 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:38:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:38:55 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:38:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:38:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:38:59 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:38:59 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:38:59 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:38:59 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:38:59 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 18:38:59 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:39:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:39:02 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:04 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:39:04 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:39:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:39:04 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:39:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Tue, 20 Apr 2021 16:39:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:39:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:39:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:39:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 16:39:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:39:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:39:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:39:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 16:39:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:39:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:39:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:39:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:39:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:39:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:39:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:39:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Tue, 20 Apr 2021 16:39:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:39:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:39:22 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:39:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:39:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:39:23 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:39:23 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:39:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:39:23 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:25 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:39:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:26 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:39:26 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:39:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:39:26 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:39:26 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:39:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:39:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:39:28 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:39:30 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 18:39:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:39:30 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:39:32 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:39:32 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:39:32 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:39:32 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:45:08 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:45:08 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:45:08 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:45:09 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:45:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:45:09 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:45:09 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:09 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:45:09 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:45:09 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:45:09 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:45:09 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:45:09 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:45:09 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:45:09 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:45:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:45:09 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:45:09 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:45:09 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:45:09 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:45:09 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:45:09 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:45:09 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:45:09 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:12 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/ff0743b6-dd84-476b-8f41-04e08209b084
[36m[2021-04-20 18:45:12 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:45:12 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:45:12 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:45:12 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:45:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:45:12 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:13 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:45:13 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:45:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:45:13 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:45:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:45:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:45:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:45:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 16:45:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:45:32 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:45:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:45:32 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:34 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:45:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:45:34 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:37 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:45:37 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:45:37 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:45:37 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:45:37 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 18:45:37 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:45:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:45:40 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:41 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:45:41 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:45:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:45:41 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:45:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:45:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 16:45:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:45:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:45:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:45:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:45:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 20 Apr 2021 16:45:57 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:45:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:45:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:45:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:45:59 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:45:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:45:59 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:46:00 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:46:00 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:46:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:46:00 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:46:02 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:46:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:46:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:46:04 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:46:04 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:46:04 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:46:04 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:46:04 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:46:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:46:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:46:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:46:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:46:07 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 18:46:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:46:07 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:46:10 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:46:10 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:46:10 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:46:10 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:47:20 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:47:20 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:47:20 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:47:21 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:47:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:47:21 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:47:21 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:21 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:47:21 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:47:21 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:47:21 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:47:21 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:47:21 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:47:21 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:47:21 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:47:21 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:47:21 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:47:21 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:47:21 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:47:21 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:47:21 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:47:21 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:47:21 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:47:21 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:47:23 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/c4aede88-dca9-4e12-ad40-b347b4265fe4
[36m[2021-04-20 18:47:23 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:47:23 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:47:23 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:47:23 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:47:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:47:23 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:25 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:47:25 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:47:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:47:25 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:47:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:47:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:47:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:47:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:47:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:47:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:47:30 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:47:31 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-20 18:47:31 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:47:31 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:47:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:47:31 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:47:33 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:47:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:47:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:47:35 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:47:35 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:47:35 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:47:35 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:47:35 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:47:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:47:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:47:36 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:47:37 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-20 18:47:37 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-20 18:47:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:47:37 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:47:40 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:47:40 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:47:40 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:47:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:49:11 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:49:11 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:49:11 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:49:12 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:49:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:49:12 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:49:12 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:12 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:49:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:49:12 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:49:12 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:49:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:49:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:49:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:49:13 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:49:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:49:13 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:49:13 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:49:13 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:49:13 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:49:13 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:49:13 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:49:13 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:49:13 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:15 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/da087432-3140-4d8b-95e8-c9bc63287c77
[36m[2021-04-20 18:49:15 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:49:15 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:49:15 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:49:15 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:49:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:49:15 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:16 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:49:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:49:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:49:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Tue, 20 Apr 2021 16:49:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:49:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 16:49:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 20 Apr 2021 16:49:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:49:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:49:35 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:49:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:49:35 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:37 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:49:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:49:37 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:40 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:49:40 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:49:40 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:49:40 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:49:40 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 18:49:40 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:49:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:49:43 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:44 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:49:44 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:49:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:49:44 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 16:49:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:49:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '13', 'date': 'Tue, 20 Apr 2021 16:49:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:49:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:49:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 16:49:57 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:49:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:49:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:49:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:49:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:50:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:50:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 16:50:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:50:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:50:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:50:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:50:02 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:50:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:50:02 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:50:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:50:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:50:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:50:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:50:05 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:50:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:50:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:50:07 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:50:07 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:50:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:50:07 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:50:07 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:50:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:50:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:50:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:50:08 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:50:10 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 18:50:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:50:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:50:13 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:50:13 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:50:13 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:50:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:52:08 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:52:08 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:52:08 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:52:09 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:52:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:52:09 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:52:09 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:09 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:52:09 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:52:09 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:52:09 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:52:09 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:52:09 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:52:09 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:52:09 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:52:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:52:09 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:52:09 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:52:09 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:52:09 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:52:09 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:52:09 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:52:09 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:52:09 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:12 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/b0765483-f342-434c-a891-d68de73b6843
[36m[2021-04-20 18:52:12 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:52:12 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:52:12 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:52:12 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:52:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:52:12 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:13 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:52:13 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:52:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:52:13 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:52:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 20 Apr 2021 16:52:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 20 Apr 2021 16:52:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 16:52:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 16:52:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:52:31 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:52:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:52:31 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:33 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:52:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:52:33 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:36 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:52:36 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:52:36 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:52:36 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:52:36 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 18:52:36 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:52:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:52:39 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:40 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:52:40 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:52:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:52:40 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 16:52:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:52:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:52:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:52:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:52:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:52:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:52:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 16:52:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:52:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:52:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:52:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:52:58 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:52:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:52:58 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:52:59 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:52:59 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:52:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:52:59 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:53:01 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:53:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:53:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:53:03 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:53:03 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:53:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:53:03 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 18:53:03 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 18:53:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:53:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:53:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:53:04 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:53:06 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 18:53:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:53:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:53:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:53:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:53:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:53:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:58:42 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 18:58:42 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 18:58:42 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 18:58:43 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 18:58:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:58:43 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 18:58:43 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:43 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 18:58:43 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:58:43 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 18:58:43 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 18:58:43 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:58:43 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:58:43 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:58:43 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 18:58:43 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 18:58:43 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 18:58:43 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 18:58:43 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 18:58:43 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 18:58:43 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 18:58:43 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 18:58:43 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 18:58:43 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:58:46 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/30cb5d6d-ad5d-4b6a-ab3b-d8dd40e81a55
[36m[2021-04-20 18:58:46 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 18:58:46 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 18:58:46 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 18:58:46 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 18:58:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:58:46 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:47 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 18:58:47 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:58:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:58:47 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:58:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:58:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 16:58:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:58:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:58:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:58:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:58:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 16:58:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:58:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:58:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:58:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:58:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 16:58:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:58:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:58:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:58:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:58:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:59:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 16:59:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:59:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 18:59:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:03 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:59:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 16:59:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 18:59:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 18:59:05 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 18:59:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:59:05 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:07 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 18:59:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:59:07 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:10 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 18:59:10 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:59:10 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:59:10 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:59:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 8, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T16:35:30Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:59:10Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '7066', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:59:10 GMT', 'Content-Length': '1679'}}'
[32m[2021-04-20 18:59:10 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 18:59:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 18:59:13 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:14 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 18:59:14 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 18:59:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:59:14 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 18:59:32 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 18:59:32 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 18:59:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 18:59:34 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 18:59:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 18:59:34 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 18:59:35 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 18:59:35 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 18:59:35 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 18:59:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:59:35 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:37 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 18:59:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:38 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 18:59:38 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 18:59:38 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:59:38 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 18:59:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 9, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T16:35:30Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:59:10Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '7099', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 16:59:39 GMT', 'Content-Length': '1614'}}'
[36m[2021-04-20 18:59:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 18:59:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 18:59:40 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 18:59:42 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 18:59:42 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 18:59:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 18:59:42 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 18:59:44 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 18:59:44 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 18:59:44 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 18:59:44 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:08:59 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:08:59 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:08:59 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:08:59 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:08:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:08:59 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:08:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:08:59 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:08:59 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:08:59 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:08:59 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:08:59 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:08:59 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:08:59 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:08:59 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:09:01 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:09:01 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:09:01 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:09:01 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:09:01 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:09:01 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:09:01 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:09:01 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:09:01 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:09:01 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:03 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/b743963e-dd36-4dbd-8796-a5e822b6b167
[36m[2021-04-20 19:09:03 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:09:03 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:09:03 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:09:03 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-20 19:09:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:09:03 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:05 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:09:05 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:09:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:09:05 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 17:09:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:10 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:09:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:12 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:12 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 17:09:12 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:12 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:09:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Tue, 20 Apr 2021 17:09:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:09:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 20 Apr 2021 17:09:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:09:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 20 Apr 2021 17:09:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:09:23 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:09:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:09:23 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:24 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 19:09:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:09:24 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:27 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 19:09:27 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:09:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:09:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:09:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 10, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T16:35:30Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T16:59:10Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '7720', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 17:09:27 GMT', 'Content-Length': '1680'}}'
[32m[2021-04-20 19:09:27 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 19:09:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:09:30 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:31 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 19:09:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:09:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:09:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 17:09:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:09:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:09:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:09:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:09:53 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 19:09:53 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 19:09:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:09:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 19:09:54 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 19:09:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:09:55 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 19:09:56 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-20 19:09:56 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 19:09:56 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 19:09:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:09:56 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:09:59 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:09:59 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:09:59 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:09:59 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:10:35 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:10:35 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:10:35 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:10:36 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:10:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:10:36 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:10:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:10:36 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:10:36 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:10:36 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:10:36 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:10:36 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:10:36 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:10:36 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:10:36 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:10:36 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:10:36 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:10:36 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:10:36 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:10:36 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:10:36 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:10:36 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:10:36 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:10:36 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:10:36 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:10:38 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/1dd670c3-e832-4e7a-9511-b96395467da9
[36m[2021-04-20 19:10:38 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:10:38 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:10:38 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:10:38 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-20 19:10:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:10:38 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:10:40 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:10:40 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:10:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:10:40 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:10:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:10:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:10:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:10:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 20 Apr 2021 17:10:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:10:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:10:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:10:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:10:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:10:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:10:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:11:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 17:11:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:11:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:11:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:11:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:11:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:11:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:11:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:11:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 17:11:04 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:11:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:11:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:11:06 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:11:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:11:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:11:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:11:22 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 19:11:22 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 19:11:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:11:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 19:11:24 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 19:11:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:11:24 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 19:11:26 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[32m[2021-04-20 19:11:26 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 19:11:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:11:26 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:11:28 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:11:28 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:11:28 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:11:28 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:14:51 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:14:51 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:14:51 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:14:52 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:14:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:14:52 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:14:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:14:52 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:14:52 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:14:52 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:14:52 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:14:52 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:14:52 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:14:52 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:14:52 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:14:52 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:14:52 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:14:52 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:14:52 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:14:52 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:14:52 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:14:52 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:14:52 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:14:52 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:14:52 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:14:55 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e957fc5a-89e9-4684-84fb-778cf4c4ebd9
[36m[2021-04-20 19:14:55 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:14:55 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:14:55 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:14:55 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-20 19:14:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:14:55 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:14:56 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:14:56 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:14:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:14:56 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:14:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:14:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 17:15:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 17:15:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Tue, 20 Apr 2021 17:15:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 17:15:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 17:15:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:15:15 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:15:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:15:15 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:17 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 19:15:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:15:17 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:20 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 19:15:20 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:15:20 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:15:20 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 19:15:20 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 19:15:20 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 19:15:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:15:22 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:24 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 19:15:24 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:15:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:15:24 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '15', 'date': 'Tue, 20 Apr 2021 17:15:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 17:15:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 17:15:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:15:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:15:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:15:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:15:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:15:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:15:41 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:15:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:15:41 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:43 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 19:15:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:15:43 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:44 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 19:15:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:46 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 19:15:46 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:15:46 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:15:46 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 19:15:46 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 19:15:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:15:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:15:48 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:15:49 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 19:15:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:15:49 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:15:51 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:15:51 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:15:51 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:15:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:16:03 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:16:03 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:16:03 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:16:04 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:16:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:16:04 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:16:04 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:04 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:16:04 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:16:04 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:16:04 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:16:04 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:16:04 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:16:04 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:16:04 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:16:04 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:16:04 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:16:04 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:16:04 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:16:04 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:16:04 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:16:04 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:16:04 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:16:04 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:07 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/14870a30-3320-4443-b9fe-f619f2b2f65a
[36m[2021-04-20 19:16:07 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:16:07 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:16:07 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:16:07 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-20 19:16:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:16:07 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:08 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:16:08 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:16:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:16:08 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 20 Apr 2021 17:16:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 17:16:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:16:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Tue, 20 Apr 2021 17:16:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Tue, 20 Apr 2021 17:16:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:16:26 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:16:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:16:26 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:28 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 19:16:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:16:28 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:31 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 19:16:31 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:16:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:16:31 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 19:16:31 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 19:16:31 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 19:16:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:16:34 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:35 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 19:16:35 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:16:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:16:35 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 20 Apr 2021 17:16:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 17:16:41 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Tue, 20 Apr 2021 17:16:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Tue, 20 Apr 2021 17:16:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:16:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:16:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Tue, 20 Apr 2021 17:16:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:16:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:16:53 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:16:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:16:53 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:54 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 19:16:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:16:54 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:56 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 19:16:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:16:58 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 19:16:58 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:16:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:16:58 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 245, in remove_delay_fault
        return unset_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 127, in unset_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 19:16:58 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[36m[2021-04-20 19:16:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:16:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:16:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:16:59 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:01 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 19:17:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:17:01 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:04 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:17:04 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:17:04 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:17:04 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:17:06 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:17:06 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:17:06 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:17:06 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:17:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:17:06 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:17:06 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:06 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:17:06 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:17:06 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:17:06 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:17:06 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:17:06 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:17:06 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:17:07 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:17:07 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:17:07 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:17:07 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:17:07 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:17:07 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:17:07 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:17:07 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:17:07 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:17:07 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:09 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f25c3cf1-49d7-447a-9318-e399d0bf2215
[36m[2021-04-20 19:17:09 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:17:09 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:17:09 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:17:09 INFO] [run:345][39m Rollbacks strategy: default
[36m[2021-04-20 19:17:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:17:09 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:11 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:17:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:17:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:17:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 17:17:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:17:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 17:17:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:17:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Tue, 20 Apr 2021 17:17:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:17:28 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:17:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:17:28 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:30 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 19:17:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:17:30 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:33 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 19:17:33 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:17:33 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:17:33 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    KeyError: 'subset'
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 45, in set_fault
        (destination["host"], destination["subset"]))
    chaoslib.exceptions.ActivityFailed: KeyError: 'subset'
[31m[2021-04-20 19:17:33 ERROR] [activity:188][39m   => failed: KeyError: 'subset'
[32m[2021-04-20 19:17:33 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 19:17:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:17:36 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:38 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 19:17:38 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:17:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:17:38 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:41 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 17:17:41 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:44 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 17:17:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:47 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 17:17:47 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:47 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 17:17:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:17:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:17:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 17:17:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:17:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:17:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:17:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:17:55 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:17:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:17:55 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:57 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 19:17:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:17:57 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:17:58 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-20 19:17:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:17:58 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:18:00 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 19:18:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:18:00 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:18:03 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:18:03 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:18:03 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:18:03 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:47:14 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 19:47:14 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 19:47:14 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 19:47:15 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 19:47:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:47:15 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 19:47:15 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:15 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 19:47:15 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:47:15 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 19:47:15 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 19:47:15 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:47:15 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:47:15 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:47:15 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 19:47:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 19:47:15 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 19:47:15 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 19:47:15 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 19:47:15 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 19:47:15 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 19:47:15 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 19:47:15 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 19:47:15 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:17 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/e1c1e41b-a9f2-4d4d-aef0-cd1ddd5d868b
[36m[2021-04-20 19:47:17 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 19:47:17 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 19:47:17 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 19:47:17 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 19:47:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:47:17 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:19 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 19:47:19 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:47:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:47:19 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:47:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '61', 'date': 'Tue, 20 Apr 2021 17:47:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:47:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:47:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:47:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Tue, 20 Apr 2021 17:47:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:47:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:47:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:47:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '51', 'date': 'Tue, 20 Apr 2021 17:47:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:47:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:47:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:47:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '35', 'date': 'Tue, 20 Apr 2021 17:47:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:47:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:47:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:47:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '32', 'date': 'Tue, 20 Apr 2021 17:47:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 19:47:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:37 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 19:47:37 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 19:47:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:47:37 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:38 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 19:47:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:47:38 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:42 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 19:47:42 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:47:42 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:47:42 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:47:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 16, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T17:12:06Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T17:47:42Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '10205', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 17:47:42 GMT', 'Content-Length': '1681'}}'
[32m[2021-04-20 19:47:42 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 19:47:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 19:47:45 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:46 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 19:47:46 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 19:47:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:47:46 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:47:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:47:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:47:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 19:48:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 408, 'headers': {'content-length': '27', 'content-type': 'text/plain', 'date': 'Tue, 20 Apr 2021 17:47:59 GMT', 'server': 'istio-envoy'}, 'body': 'downstream duration timeout'}'
[36m[2021-04-20 19:48:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:48:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:48:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 19:48:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 19:48:02 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 19:48:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 19:48:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 19:48:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 19:48:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:48:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:48:05 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 19:48:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:48:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:48:07 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 19:48:07 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 19:48:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:48:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 19:48:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":12,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"10s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 17, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T17:12:06Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T17:47:42Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '10236', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 12, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '10s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 17:48:07 GMT', 'Content-Length': '1616'}}'
[36m[2021-04-20 19:48:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 19:48:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:48:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 19:48:08 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 19:48:10 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 19:48:10 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 19:48:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 19:48:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 19:48:13 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 19:48:13 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 19:48:13 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 19:48:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:33:42 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 21:33:42 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 21:33:42 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 21:33:46 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 21:33:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:33:46 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:33:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:33:46 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:33:46 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 21:33:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:33:46 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 21:33:46 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 21:33:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:33:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:33:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:33:46 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 21:33:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:33:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:33:46 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 21:33:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:33:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:33:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:33:46 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 21:33:46 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 21:33:46 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:33:51 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f01e8afb-a48e-4aa4-aa71-794493ef06ca
[36m[2021-04-20 21:33:51 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 21:33:51 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 21:33:51 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 21:33:51 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 21:33:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:33:51 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:33:56 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 21:33:56 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:33:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:33:56 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:34:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:34:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:34:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 19:34:04 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:34:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:34:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:34:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:34:12 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:34:27 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 21:34:27 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 21:34:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 21:34:31 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 21:34:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:34:31 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 21:34:35 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 21:34:35 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 21:34:35 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 21:34:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:34:35 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:34:39 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 21:34:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:34:43 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 21:34:43 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 21:34:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:34:43 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:34:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"fault":{"delay":{"fixedDelay":"15s","percentage":{"value":50}}},"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 20, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T17:48:47Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T19:34:43Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '17167', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 19:34:43 GMT', 'Content-Length': '1693'}}'
[36m[2021-04-20 21:34:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:34:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:34:47 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:34:47 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:34:51 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 21:34:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:34:51 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:34:56 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 21:34:56 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 21:34:56 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 21:34:56 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:36:01 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 21:36:01 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 21:36:01 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 21:36:05 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 21:36:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:36:05 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:36:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:36:05 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:36:05 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 21:36:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:36:05 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 21:36:05 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 21:36:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:36:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:36:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:36:05 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 21:36:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:36:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:36:05 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 21:36:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:36:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:36:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:36:05 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 21:36:05 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 21:36:05 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:36:10 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f4ab1c53-7ff7-4c79-a598-f9353de37305
[36m[2021-04-20 21:36:10 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 21:36:10 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 21:36:10 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 21:36:10 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 21:36:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:36:10 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:36:15 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 21:36:15 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:36:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:36:15 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:36:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:36:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:36:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:36:38 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 21:36:38 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 21:36:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:36:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 21:36:42 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 21:36:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:36:42 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 21:36:46 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 21:36:46 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 21:36:46 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 21:36:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:36:46 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:36:50 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 21:36:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:36:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:36:54 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 21:36:54 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 21:36:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:36:54 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:36:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"fault":{"delay":{"fixedDelay":"15s","percentage":{"value":50}}},"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 22, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T19:35:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T19:36:54Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '17311', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 19:36:54 GMT', 'Content-Length': '1693'}}'
[36m[2021-04-20 21:36:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:36:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:36:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:36:59 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:37:03 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 21:37:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:37:03 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:37:08 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 21:37:08 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 21:37:08 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 21:37:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:40:09 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 21:40:09 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 21:40:09 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 21:40:12 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 21:40:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:40:12 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:40:12 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:12 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 21:40:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:40:12 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 21:40:12 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 21:40:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:40:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:40:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:40:12 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 21:40:12 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:40:12 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:40:12 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 21:40:12 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:40:12 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:40:12 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:40:12 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 21:40:12 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 21:40:12 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:40:17 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/28b9e0a9-9926-45ad-b500-6c1cba6affc2
[36m[2021-04-20 21:40:17 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 21:40:18 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 21:40:18 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 21:40:18 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 21:40:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:40:18 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:22 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 21:40:22 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:40:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:40:22 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:40:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:40:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Tue, 20 Apr 2021 19:40:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:40:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:40:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:40:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:40:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 19:40:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:40:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:40:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:40:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:40:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Tue, 20 Apr 2021 19:40:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:40:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:40:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:40:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:40:54 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Tue, 20 Apr 2021 19:40:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:40:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:40:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:40:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:40:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:41:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Tue, 20 Apr 2021 19:41:01 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:41:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 21:41:09 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 21:41:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:41:09 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:10 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 21:41:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 21:41:10 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:13 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 21:41:13 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 21:41:13 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:41:13 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:41:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"fault":{"delay":{"fixedDelay":"15s","percentage":{"value":50}}},"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 23, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T19:35:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T19:36:54Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '17590', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 19:41:13 GMT', 'Content-Length': '1758'}}'
[32m[2021-04-20 21:41:13 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 21:41:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 21:41:16 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:18 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 21:41:18 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:41:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:41:18 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:19 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:41:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:41:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:41:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:23 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:41:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:41:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 19:41:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:41:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:41:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:41:42 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 21:41:42 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 21:41:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 21:41:44 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 21:41:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:41:44 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 21:41:45 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 21:41:45 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 21:41:45 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 21:41:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:41:45 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:47 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 21:41:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:48 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 21:41:48 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 21:41:48 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:41:49 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:41:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"fault":{"delay":{"fixedDelay":"15s","percentage":{"value":50}}},"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 24, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T19:35:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T19:36:54Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '17629', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 19:41:49 GMT', 'Content-Length': '1693'}}'
[36m[2021-04-20 21:41:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:41:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:41:51 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:41:52 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 21:41:52 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 21:41:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:41:52 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:41:55 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 21:41:55 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 21:41:55 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 21:41:55 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:53:59 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 21:53:59 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 21:53:59 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 21:54:00 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 21:54:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:54:00 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:54:00 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:00 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 21:54:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:54:00 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 21:54:00 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 21:54:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:54:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:54:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:54:00 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 21:54:00 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:54:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:54:00 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 21:54:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:54:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:54:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:54:00 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 21:54:00 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 21:54:00 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:02 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/56345348-3e75-49dc-98e8-01d5e1d6eb10
[36m[2021-04-20 21:54:02 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 21:54:02 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 21:54:02 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 21:54:02 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 21:54:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:54:02 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:04 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 21:54:04 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:54:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:54:04 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:54:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 20 Apr 2021 19:54:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 19:54:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:54:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:54:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 21:54:22 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 21:54:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:54:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:23 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 21:54:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 21:54:23 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:26 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 21:54:26 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 21:54:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:54:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 21:54:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":10,"perTryTimeout":"3s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 26, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T19:53:38Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T19:54:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '18445', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 10, 'perTryTimeout': '3s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 19:54:26 GMT', 'Content-Length': '1681'}}'
[32m[2021-04-20 21:54:26 INFO] [activity:198][39m Pausing after activity for 1s...
[36m[2021-04-20 21:54:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 21:54:29 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:31 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 21:54:31 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:54:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:54:31 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:54:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Tue, 20 Apr 2021 19:54:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:41 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:54:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Tue, 20 Apr 2021 19:54:41 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:54:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:54:43 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:54:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:54:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:54:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:55:00 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 21:55:00 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 21:55:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:55:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 21:55:01 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 21:55:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:55:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 21:55:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 21:55:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 21:55:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 21:55:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:55:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:55:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-20 21:55:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:55:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:55:06 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 21:55:06 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 21:55:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:55:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:55:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 21:55:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 21:55:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 21:55:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:57:37 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 21:57:37 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 21:57:37 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 21:57:38 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 21:57:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:57:38 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 21:57:38 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:38 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 21:57:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:57:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 21:57:38 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 21:57:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:57:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:57:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:57:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 21:57:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 21:57:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 21:57:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 21:57:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 21:57:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 21:57:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 21:57:38 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 21:57:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 21:57:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:57:41 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/b003d5bb-41bf-4a22-a1de-036184345957
[36m[2021-04-20 21:57:41 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 21:57:41 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 21:57:41 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 21:57:41 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 21:57:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:57:41 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:42 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 21:57:42 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 21:57:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:57:42 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:57:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:57:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:57:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '20', 'date': 'Tue, 20 Apr 2021 19:57:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:57:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:57:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:57:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:57:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:57:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:57:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 19:57:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 21:57:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:57:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:57:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 21:57:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:57:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:57:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 21:58:07 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 21:58:07 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 21:58:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 21:58:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 21:58:08 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 21:58:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 21:58:08 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 21:58:10 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 21:58:10 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 21:58:10 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 21:58:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:58:10 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:58:11 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-20 21:58:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 21:58:11 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 21:58:13 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 21:58:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 21:58:13 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 21:58:15 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 21:58:15 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 21:58:15 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 21:58:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:07:11 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 22:07:11 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 22:07:11 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 22:07:14 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 22:07:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:07:14 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:07:14 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:14 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 22:07:14 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:07:14 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 22:07:14 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 22:07:14 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:07:14 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:07:14 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:07:14 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 22:07:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:07:14 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:07:14 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 22:07:14 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:07:14 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:07:14 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:07:14 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 22:07:14 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 22:07:14 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:22 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/0f23bb2f-6ef4-4421-b883-6bdd6cfb2f22
[36m[2021-04-20 22:07:22 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 22:07:22 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 22:07:22 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 22:07:22 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 22:07:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:07:22 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:23 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 22:07:23 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 22:07:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:07:23 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:27 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 20 Apr 2021 20:07:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:07:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 20:07:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:07:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 20 Apr 2021 20:07:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:07:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 20:07:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:07:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Tue, 20 Apr 2021 20:07:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 22:07:41 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 22:07:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:07:41 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:42 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 22:07:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 22:07:42 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:45 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 22:07:45 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 22:07:45 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:07:45 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:07:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"45s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 28, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T20:06:39Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T20:07:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '19313', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '45s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 20:07:45 GMT', 'Content-Length': '1681'}}'
[32m[2021-04-20 22:07:45 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 22:07:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 22:07:52 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:53 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 22:07:53 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 22:07:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:07:53 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:07:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 20:07:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:07:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:07:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:07:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:07:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:07:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:08:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 20:08:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:08:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:08:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:08:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:08:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:08:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 20:08:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:08:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:08:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:08:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:08:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:08:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 20:08:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:08:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:08:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:08:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:08:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:08:54 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:09:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Tue, 20 Apr 2021 20:09:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:09:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:09:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:09:10 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 22:09:10 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 22:09:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:09:10 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 22:09:12 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 22:09:12 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 22:09:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:09:12 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:09:13 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-20 22:09:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:09:13 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:09:15 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 22:09:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:09:15 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:09:18 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 22:09:18 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 22:09:18 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 22:09:18 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:11:52 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 22:11:52 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 22:11:52 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 22:11:53 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 22:11:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:11:53 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:11:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:11:53 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:11:53 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 22:11:53 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:11:53 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 22:11:53 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 22:11:53 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:11:53 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:11:53 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:11:53 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 22:11:53 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:11:53 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:11:53 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 22:11:53 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:11:53 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:11:53 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:11:53 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 22:11:53 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 22:11:53 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:11:55 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/410dec91-450d-4649-b94a-746e642dd925
[36m[2021-04-20 22:11:55 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 22:11:55 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 22:11:55 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 22:11:55 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 22:11:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:11:55 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:11:57 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 22:11:57 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 22:11:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:11:57 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:11:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:11:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:12:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:12:15 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 22:12:15 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 22:12:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:12:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 22:12:17 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 22:12:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:12:17 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 22:12:18 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 22:12:18 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 22:12:18 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 22:12:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:12:18 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:12:20 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 22:12:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:12:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:12:22 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 22:12:22 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 22:12:22 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:12:23 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:12:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"45s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 29, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T20:06:39Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T20:07:45Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '19613', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '45s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 20:12:23 GMT', 'Content-Length': '1616'}}'
[36m[2021-04-20 22:12:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:12:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:12:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:12:25 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:12:26 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-20 22:12:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:12:26 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:12:28 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 22:12:28 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 22:12:28 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 22:12:28 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:37:07 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 22:37:07 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 22:37:07 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 22:37:08 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 22:37:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:37:08 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:08 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 22:37:08 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:08 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-20 22:37:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:37:08 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 22:37:08 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 22:37:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:37:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:37:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:37:08 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 22:37:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 22:37:08 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 22:37:08 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 22:37:08 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 22:37:08 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 22:37:08 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 22:37:08 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 22:37:08 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 22:37:08 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:11 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/c0431ec3-828e-43fb-baff-01688ecdebf8
[36m[2021-04-20 22:37:11 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 22:37:11 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 22:37:11 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 22:37:11 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 22:37:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:37:11 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:12 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 22:37:12 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 22:37:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:37:12 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:14 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:37:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Tue, 20 Apr 2021 20:37:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:37:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:17 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:37:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:17 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:37:19 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Tue, 20 Apr 2021 20:37:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:37:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:19 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:37:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:37:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Tue, 20 Apr 2021 20:37:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:37:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:37:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:25 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:37:25 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 20:37:25 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:37:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:25 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:27 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 22:37:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:37:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Tue, 20 Apr 2021 20:37:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-20 22:37:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 22:37:30 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 22:37:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:37:30 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:32 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 22:37:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 22:37:32 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:35 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 22:37:35 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 22:37:35 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:37:35 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:37:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 31, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T20:37:04Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T20:37:35Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '21201', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 20:37:35 GMT', 'Content-Length': '1681'}}'
[32m[2021-04-20 22:37:35 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 22:37:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 22:37:41 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:43 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 22:37:43 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 22:37:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:37:43 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:37:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:37:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:37:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 22:38:01 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 22:38:01 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 22:38:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:38:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 22:38:02 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 22:38:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 22:38:02 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 22:38:04 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 22:38:04 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 22:38:04 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 22:38:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:38:04 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:38:06 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 22:38:06 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:38:06 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:38:07 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 22:38:07 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 22:38:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:38:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 22:38:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 32, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T20:37:04Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T20:37:35Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '21237', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 20:38:07 GMT', 'Content-Length': '1616'}}'
[36m[2021-04-20 22:38:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 22:38:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:38:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 22:38:09 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 22:38:10 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 22:38:10 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 22:38:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 22:38:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 22:38:13 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 22:38:13 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 22:38:13 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 22:38:13 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:10:45 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 23:10:45 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 23:10:45 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 23:10:46 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 23:10:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:10:46 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:10:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:10:46 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:10:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:10:46 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 23:10:46 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 23:10:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:10:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:10:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:10:46 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 23:10:46 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:10:46 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:10:46 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 23:10:46 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:10:46 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:10:46 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:10:46 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 23:10:46 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 23:10:46 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:10:49 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/054f122b-d3a9-4c42-a068-84c59ab706b9
[36m[2021-04-20 23:10:49 DEBUG] [workspace:147][39m Registering experiment 'delay-read.yaml' with ID 'd576a6ec-0c3c-4c1c-a494-c3095db8881f' for organization '846e69e0-c776-46c9-a431-a7de0487556e' and team 'ad7ea2e6-37e0-4421-b763-73bb5a55dd9f'
[36m[2021-04-20 23:10:49 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 23:10:49 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 23:10:49 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 23:10:49 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 23:10:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:10:49 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:10:51 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 23:10:51 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:10:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:10:51 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:10:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:10:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:10:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:10:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Tue, 20 Apr 2021 21:10:54 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:10:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:10:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:10:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:10:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:10:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:10:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:10:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Tue, 20 Apr 2021 21:10:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:10:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:10:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:02 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 21:11:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:11:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:11:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:11:11 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:11:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:11:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:14 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 23:11:14 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:11:14 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:18 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 23:11:18 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:11:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:11:18 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:11:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 34, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:01:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:11:18Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23328', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:11:18 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 23:11:18 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 23:11:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:11:25 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:27 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 23:11:27 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:11:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:11:27 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:31 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:31 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Tue, 20 Apr 2021 21:11:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Tue, 20 Apr 2021 21:11:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 21:11:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:11:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:11:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:11:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:11:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:11:59 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 23:11:59 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 23:11:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:11:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 23:12:01 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 23:12:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:12:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 23:12:03 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 23:12:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 23:12:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 23:12:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:12:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:12:05 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 23:12:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:12:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:12:07 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 23:12:07 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:12:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:12:07 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:12:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 35, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:01:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:11:18Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23378', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:12:07 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 23:12:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:12:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:12:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:12:09 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:12:11 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 23:12:11 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 23:12:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:12:11 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:12:14 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 23:12:14 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 23:12:14 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 23:12:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:15:04 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 23:15:04 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 23:15:04 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 23:15:04 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 23:15:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:15:04 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:15:04 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:04 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-20 23:15:04 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:15:04 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 23:15:04 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 23:15:04 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:15:04 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:15:04 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:15:05 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 23:15:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:15:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:15:05 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 23:15:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:15:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:15:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:15:05 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 23:15:05 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 23:15:05 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:08 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a7168515-cc50-469e-b5c7-6bf4f87ff070
[36m[2021-04-20 23:15:08 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 23:15:08 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 23:15:08 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 23:15:08 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 23:15:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:15:08 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:10 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 23:15:11 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:15:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:15:11 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:15 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:15:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '8', 'date': 'Tue, 20 Apr 2021 21:15:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:15:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:15:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:15:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:15:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:15:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:15:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:15:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:15:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:15:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:15:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:15:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:15:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:15:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:15:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:15:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:15:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:15:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:15:32 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:15:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:15:32 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:34 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 23:15:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:15:34 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:39 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 23:15:39 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:15:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:15:39 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:15:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 36, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:01:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:11:18Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23597', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '15s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:15:39 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 23:15:39 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 23:15:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:44 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:15:45 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:47 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 23:15:47 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:15:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:15:47 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:15:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:15:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:15:50 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:16:05 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 421, in _make_request
        six.raise_from(e, None)
      File "<string>", line 3, in raise_from
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 416, in _make_request
        httplib_response = conn.getresponse()
      File "/usr/lib/python3.8/http/client.py", line 1347, in getresponse
        response.begin()
      File "/usr/lib/python3.8/http/client.py", line 307, in begin
        version, status, reason = self._read_status()
      File "/usr/lib/python3.8/http/client.py", line 268, in _read_status
        line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
      File "/usr/lib/python3.8/socket.py", line 669, in readinto
        return self._sock.recv_into(b)
    socket.timeout: timed out
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 439, in send
        resp = conn.urlopen(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 719, in urlopen
        retries = retries.increment(
      File "/usr/lib/python3/dist-packages/urllib3/util/retry.py", line 400, in increment
        raise six.reraise(type(error), error, _stacktrace)
      File "/usr/lib/python3/dist-packages/six.py", line 703, in reraise
        raise value
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 665, in urlopen
        httplib_response = self._make_request(
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 423, in _make_request
        self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
      File "/usr/lib/python3/dist-packages/urllib3/connectionpool.py", line 330, in _raise_timeout
        raise ReadTimeoutError(
    urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 51, in run_http_activity
        r = s.get(
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 546, in get
        return self.request('GET', url, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 533, in request
        resp = self.send(prep, **send_kwargs)
      File "/usr/lib/python3/dist-packages/requests/sessions.py", line 646, in send
        r = adapter.send(request, **kwargs)
      File "/usr/lib/python3/dist-packages/requests/adapters.py", line 529, in send
        raise ReadTimeout(e, request=request)
    requests.exceptions.ReadTimeout: HTTPConnectionPool(host='192.168.49.2', port=30525): Read timed out. (read timeout=15)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 232, in run_activity
        result = run_http_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/http.py", line 89, in run_http_activity
        raise ActivityFailed("activity took too long to complete")
    chaoslib.exceptions.ActivityFailed: activity took too long to complete
[31m[2021-04-20 23:16:05 ERROR] [activity:188][39m   => failed: activity took too long to complete
[36m[2021-04-20 23:16:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:16:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 23:16:07 WARNING] [hypothesis:200][39m Probe terminated unexpectedly, so its tolerance could not be validated
[36m[2021-04-20 23:16:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:16:07 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-20 23:16:08 CRITICAL] [run:507][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-20 23:16:08 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 23:16:08 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 23:16:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:16:08 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:16:10 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-20 23:16:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:16:10 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:16:12 INFO] [run:421][39m Experiment ended with status: deviated
[32m[2021-04-20 23:16:12 INFO] [run:423][39m The steady-state has deviated, a weakness may have been discovered
[36m[2021-04-20 23:16:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:16:12 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:16:16 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 23:16:16 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 23:16:16 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 23:16:16 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:18:28 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 23:18:28 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 23:18:28 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 23:18:29 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 23:18:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:18:29 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:18:29 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:29 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-20 23:18:29 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:18:29 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 23:18:29 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 23:18:29 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:18:29 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:18:29 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:18:29 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 23:18:29 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:18:29 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:18:29 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 23:18:29 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:18:29 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:18:29 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:18:29 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 23:18:29 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 23:18:29 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:32 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/1ff4a1c5-f615-413e-a028-64eb70dbb2d1
[36m[2021-04-20 23:18:32 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 23:18:32 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 23:18:32 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 23:18:32 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 23:18:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:18:32 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:34 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 23:18:34 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:18:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:18:34 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:38 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:18:38 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:18:38 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:18:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:38 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:18:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:18:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Tue, 20 Apr 2021 21:18:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:18:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:18:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:18:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:18:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:18:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:18:48 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:48 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:49 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:18:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:18:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:18:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:18:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:18:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:18:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:18:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:18:55 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:18:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:18:55 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:18:57 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 23:18:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:18:57 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:18:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:18:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:01 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 23:19:01 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:19:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:19:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:19:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 38, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:18:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:19:01Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23811', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:19:01 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 23:19:01 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 23:19:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:19:09 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:10 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 23:19:10 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:19:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:19:10 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:19:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:19:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:19:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:19:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:19:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:19:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:19:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:19:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:19:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:19:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:19:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:19:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:19:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:19:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:19:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:19:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:19:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:19:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:19:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:19:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:19:54 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:19:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:19:54 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 23:19:56 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 23:19:56 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 23:19:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:19:56 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:19:58 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 23:19:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:19:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:00 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 23:20:00 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:20:00 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:20:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:20:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 39, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:18:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:19:01Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23871', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:20:01 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 23:20:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:20:03 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:05 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 23:20:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:20:05 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:08 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 23:20:08 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 23:20:08 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 23:20:08 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:20:15 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 23:20:15 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 23:20:15 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 23:20:16 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 23:20:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:20:16 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:20:16 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:16 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-20 23:20:16 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:20:16 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 23:20:16 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 23:20:16 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:20:16 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:20:16 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:20:16 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 23:20:16 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:20:16 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:20:16 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 23:20:16 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:20:16 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:20:16 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:20:16 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 23:20:16 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 23:20:16 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:19 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/3582b894-d75f-4fca-ba8f-d977e1a78a77
[36m[2021-04-20 23:20:19 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 23:20:19 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 23:20:19 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 23:20:19 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 23:20:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:20:19 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:20 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 23:20:20 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:20:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:20:20 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:20:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:20:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:20:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:26 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:20:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:26 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:28 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:20:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:20:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:20:28 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:28 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:20:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:20:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:20:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:20:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:20:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:20:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:20:35 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:20:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:20:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:20:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:20:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:20:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:20:42 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:20:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:20:42 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:44 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 23:20:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:20:44 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:45 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:20:47 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 23:20:47 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:20:47 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:20:47 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:20:47 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 40, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:18:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:19:01Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23920', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:20:47 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 23:20:47 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 23:20:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:20:55 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:57 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 23:20:57 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:20:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:20:57 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:20:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:20:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:21:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Tue, 20 Apr 2021 21:21:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:21:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:21:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:21:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:21:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:21:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:21:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:18 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:21:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:21:18 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:21:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:21:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:22 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:21:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:21:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:21:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:21:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:21:46 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Tue, 20 Apr 2021 21:21:46 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:21:46 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:46 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:48 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:21:48 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:21:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:21:48 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 23:21:49 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 23:21:49 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 23:21:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:21:49 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:51 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 23:21:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:52 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 23:21:52 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:21:52 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:21:52 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:21:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 41, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:18:03Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:19:01Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '23992', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:21:52 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 23:21:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:21:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:21:54 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:21:56 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 23:21:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:21:56 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:21:58 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 23:21:58 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 23:21:58 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 23:21:58 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:22:50 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-20 23:22:50 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-20 23:22:50 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-20 23:22:50 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-20 23:22:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:22:50 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:22:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-20 23:22:50 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:22:50 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-20 23:22:50 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:22:50 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-20 23:22:50 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-20 23:22:50 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:22:50 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:22:50 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:22:51 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-20 23:22:51 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-20 23:22:51 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-20 23:22:51 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-20 23:22:51 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-20 23:22:51 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-20 23:22:51 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-20 23:22:51 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-20 23:22:51 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-20 23:22:51 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:22:53 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/abd39ad9-f0e8-4c98-a532-21b6cb1bb83b
[36m[2021-04-20 23:22:53 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-20 23:22:53 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-20 23:22:53 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-20 23:22:53 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-20 23:22:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:22:53 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:22:54 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-20 23:22:54 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:22:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:22:54 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:22:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:22:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:22:57 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:22:57 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:22:57 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:22:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:22:57 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:22:59 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:22:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:22:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Tue, 20 Apr 2021 21:23:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:23:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:23:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:23:09 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:23:11 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:23:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:23:11 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:13 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-20 23:23:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:23:13 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:16 INFO] [activity:161][39m Action: delay
[36m[2021-04-20 23:23:16 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:23:16 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:23:17 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:23:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 43, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:22:44Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:23:17Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '24084', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:23:17 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-20 23:23:17 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-20 23:23:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-20 23:23:24 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:25 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-20 23:23:25 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-20 23:23:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:23:25 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:23:28 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:30 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:30 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Tue, 20 Apr 2021 21:23:31 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:23:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:23:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-20 23:23:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-20 23:23:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Tue, 20 Apr 2021 21:23:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-20 23:23:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-20 23:23:53 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-20 23:23:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-20 23:23:53 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-20 23:23:54 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-20 23:23:54 INFO] [run:809][39m Let's rollback...
[36m[2021-04-20 23:23:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:23:54 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:56 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-20 23:23:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:23:58 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-20 23:23:58 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-20 23:23:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:23:58 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-20 23:23:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 44, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:22:44Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:23:17Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '24128', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Tue, 20 Apr 2021 21:23:58 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-20 23:23:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-20 23:23:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:23:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-20 23:23:59 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-20 23:24:01 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-20 23:24:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-20 23:24:01 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-20 23:24:04 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-20 23:24:04 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-20 23:24:04 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-20 23:24:04 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:28:22 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 18:28:22 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 18:28:22 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 18:28:25 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 18:28:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:28:25 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:28:25 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:25 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-21 18:28:25 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:28:25 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 18:28:25 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 18:28:25 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:28:25 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:28:25 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:28:26 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 18:28:26 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:28:26 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:28:26 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 18:28:26 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:28:26 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:28:26 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:28:26 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 18:28:26 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 18:28:26 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:28:30 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/9df454d7-ac0b-46e8-817d-7a677057501e
[36m[2021-04-21 18:28:30 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 18:28:31 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 18:28:31 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 18:28:31 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 18:28:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:28:31 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:35 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 18:28:35 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:28:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:28:35 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:39 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:39 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:28:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:28:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Wed, 21 Apr 2021 16:28:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:28:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:47 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:28:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:28:51 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:28:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:28:50 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:28:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:28:55 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:28:55 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:55 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:28:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:28:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:28:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:28:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:28:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:03 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:29:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:29:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:29:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '3', 'date': 'Wed, 21 Apr 2021 16:29:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:29:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:11 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:29:11 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:11 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:29:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:29:15 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '13', 'date': 'Wed, 21 Apr 2021 16:29:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:29:15 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:15 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 18:29:19 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 18:29:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:29:19 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:29:23 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 18:29:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 18:29:23 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:27 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:29:31 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 18:29:31 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 18:29:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:29:31 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:29:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 45, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:22:44Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:23:17Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '27272', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Wed, 21 Apr 2021 16:29:32 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 18:29:32 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 18:29:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 18:29:41 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:45 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 18:29:45 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:29:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:29:45 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:29:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:29:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 16:29:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:29:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:29:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:29:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:29:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:01 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:30:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 16:30:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:30:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:30:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:30:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:30:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 16:30:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:30:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:30:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:30:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:30:27 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 16:30:27 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:30:27 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:27 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:30:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:30:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:35 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:30:35 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Wed, 21 Apr 2021 16:30:34 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:30:35 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:35 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:30:39 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 18:30:39 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 18:30:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:30:39 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 18:30:43 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 18:30:43 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 18:30:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:30:43 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:47 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 18:30:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:30:51 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 18:30:51 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 18:30:51 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:30:51 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:30:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 46, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-20T21:22:44Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-20T21:23:17Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '27355', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Wed, 21 Apr 2021 16:30:51 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 18:30:51 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:30:51 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:30:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:30:56 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:31:00 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 18:31:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:31:00 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:31:05 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 18:31:05 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 18:31:05 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 18:31:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:34:16 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 18:34:16 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 18:34:16 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 18:34:19 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 18:34:19 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:34:19 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:34:19 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:19 DEBUG] [controls:109][39m Using experiment ID d576a6ec-0c3c-4c1c-a494-c3095db8881f from workspace for experiment at location delay-read.yaml
[36m[2021-04-21 18:34:19 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:34:19 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 18:34:19 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 18:34:19 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:34:19 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:34:19 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:34:19 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 18:34:19 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:34:19 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:34:19 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 18:34:19 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:34:19 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:34:19 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:34:19 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 18:34:19 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 18:34:19 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:34:25 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/94b0b1a8-cb2d-496a-b236-ea0d0f731f2c
[36m[2021-04-21 18:34:25 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 18:34:25 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 18:34:25 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 18:34:25 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 18:34:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:34:25 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:28 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 18:34:28 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:34:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:34:28 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:34:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:34:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Wed, 21 Apr 2021 16:34:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:34:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:34:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:34:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:34:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:34:44 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:34:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:34:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:34:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:34:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:34:52 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:34:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:34:57 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:34:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:34:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:35:01 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:35:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:35:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:35:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:35:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:35:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:35:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 16:35:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:35:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 18:35:13 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 18:35:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:35:13 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:35:17 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 18:35:17 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 18:35:17 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:35:25 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 18:35:25 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 18:35:25 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:35:26 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:35:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 48, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T16:34:09Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T16:35:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '27639', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Wed, 21 Apr 2021 16:35:26 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 18:35:26 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 18:35:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:31 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 18:35:36 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:40 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 18:35:40 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:35:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:35:40 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:35:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:35:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:35:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:35:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:35:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:35:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:36:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:36:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:36:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:36:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '4', 'date': 'Wed, 21 Apr 2021 16:36:15 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:36:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:36:20 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:36:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:36:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:36:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '5', 'date': 'Wed, 21 Apr 2021 16:36:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:36:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:36:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:36:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:36:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:36:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '2', 'date': 'Wed, 21 Apr 2021 16:36:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:36:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:36:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:36:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:36:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:36:50 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '323', 'x-envoy-upstream-service-time': '1', 'date': 'Wed, 21 Apr 2021 16:36:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        }\n    ]\n}'}'
[36m[2021-04-21 18:36:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:36:50 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:36:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 18:36:54 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 18:36:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:36:54 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 18:36:58 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 18:36:58 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 18:36:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:36:58 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:37:02 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 18:37:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:37:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:37:06 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 18:37:06 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 18:37:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:37:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:37:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 49, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T16:34:09Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T16:35:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '27747', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Wed, 21 Apr 2021 16:37:06 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 18:37:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:37:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:37:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:37:10 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:37:14 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 18:37:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:37:14 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:37:18 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 18:37:18 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 18:37:18 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 18:37:18 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:38:18 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 18:38:18 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 18:38:18 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 18:38:22 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 18:38:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:38:22 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:38:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:38:22 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:38:22 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 18:38:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:38:22 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 18:38:22 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 18:38:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:38:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:38:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:38:25 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 18:38:25 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:38:25 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:38:25 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 18:38:25 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:38:25 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:38:25 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:38:25 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 18:38:25 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 18:38:25 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:38:30 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/f7c23e21-8fa7-4626-9409-5beb719bafbb
[36m[2021-04-21 18:38:30 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 18:38:30 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 18:38:30 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 18:38:30 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 18:38:30 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:38:30 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:38:36 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 18:38:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:38:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:38:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:38:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:38:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:38:44 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:38:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 503, 'headers': {'content-length': '201', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 16:38:45 GMT', 'server': 'istio-envoy'}, 'body': 'upstream connect error or disconnect/reset before headers. reset reason: connection failure, transport failure reason: TLS error: 268436501:SSL routines:OPENSSL_internal:SSLV3_ALERT_CERTIFICATE_EXPIRED'}'
[36m[2021-04-21 18:38:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:38:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:38:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:38:50 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:38:50 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 18:38:54 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 18:38:54 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 18:38:54 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 18:38:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:38:54 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:38:58 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 18:38:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:38:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:39:02 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 18:39:02 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 18:39:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:39:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 18:39:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"istio-system"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-20T15:35:47Z', 'generation': 49, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T16:34:09Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T16:35:26Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'istio-system', 'resourceVersion': '27747', 'uid': '6e56bbb6-3e7c-4354-9706-fa726ff6a613'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'b7344d09-65f7-494d-9bfc-1cd96a7fd47e', 'X-Kubernetes-Pf-Prioritylevel-Uid': '5a5c58f2-4751-4821-bfe5-3162d1f97277', 'Date': 'Wed, 21 Apr 2021 16:39:02 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 18:39:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:39:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:39:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:39:07 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:39:11 INFO] [run:421][39m Experiment ended with status: failed
[36m[2021-04-21 18:39:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:39:11 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:39:15 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 18:39:15 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 18:39:15 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 18:39:15 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:45:51 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 18:45:51 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 18:45:51 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 18:45:54 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 18:45:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:45:54 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:45:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 18:45:54 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:45:54 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 18:45:54 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:45:54 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 18:45:54 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 18:45:54 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:45:54 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:45:54 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:45:54 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 18:45:54 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 18:45:54 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 18:45:54 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 18:45:54 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 18:45:54 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 18:45:54 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 18:45:54 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 18:45:54 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 18:45:54 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:46:00 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/91b2040b-215a-42df-9b34-b8ad207e026d
[36m[2021-04-21 18:46:00 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 18:46:00 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 18:46:00 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 18:46:00 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 18:46:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:46:00 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:46:04 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 18:46:04 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 18:46:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:46:04 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:46:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:46:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 18:46:12 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 18:46:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 503, 'headers': {'content-length': '201', 'content-type': 'text/plain', 'date': 'Wed, 21 Apr 2021 16:46:13 GMT', 'server': 'istio-envoy'}, 'body': 'upstream connect error or disconnect/reset before headers. reset reason: connection failure, transport failure reason: TLS error: 268436501:SSL routines:OPENSSL_internal:SSLV3_ALERT_CERTIFICATE_EXPIRED'}'
[36m[2021-04-21 18:46:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 18:46:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:46:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 18:46:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 18:46:18 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[31m[2021-04-21 18:46:22 CRITICAL] [run:477][39m Steady state probe 'app-responds-to-requests' is not in the given tolerance so failing this experiment
[33m[2021-04-21 18:46:22 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 18:46:22 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 18:46:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:46:22 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:46:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 18:46:26 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 18:46:30 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-21 18:46:30 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-21 18:46:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 18:46:30 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 18:46:34 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 18:46:34 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 18:46:34 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 18:46:34 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 19:41:49 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 19:41:49 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 19:41:49 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 19:41:54 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 19:41:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 19:41:54 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:41:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 19:41:54 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:41:54 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 19:41:54 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 19:41:54 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 19:41:54 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 19:41:54 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 19:41:54 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 19:41:54 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 19:41:56 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 19:41:56 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 19:41:56 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 19:41:56 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 19:41:56 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 19:41:56 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 19:41:56 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 19:41:56 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 19:41:56 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 19:41:56 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:01 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/96dcdec2-e37c-405a-ad75-caaff0200022
[36m[2021-04-21 19:42:01 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 19:42:01 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 19:42:01 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 19:42:01 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 19:42:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 19:42:01 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:05 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 19:42:05 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 19:42:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:42:05 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:42:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '67', 'date': 'Wed, 21 Apr 2021 17:42:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:42:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:42:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:21 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:42:21 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Wed, 21 Apr 2021 17:42:21 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:42:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:21 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:42:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:42:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Wed, 21 Apr 2021 17:42:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:42:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:42:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:42:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Wed, 21 Apr 2021 17:42:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:42:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:42:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:42:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '35', 'date': 'Wed, 21 Apr 2021 17:42:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:42:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 19:42:49 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 19:42:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:42:49 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:42:54 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 19:42:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 19:42:54 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:42:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:42:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:43:02 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 19:43:02 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 19:43:02 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 19:43:02 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 202, in add_delay_fault
        return set_fault(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py", line 36, in set_fault
        raise ActivityFailed("Virtual Service '{}' does not exist: {}".format(
    chaoslib.exceptions.ActivityFailed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[31m[2021-04-21 19:43:02 ERROR] [activity:188][39m   => failed: chaoslib.exceptions.ActivityFailed: Virtual Service 'http-mg-mread-vs' does not exist: {'kind': 'Status', 'apiVersion': 'v1', 'metadata': {}, 'status': 'Failure', 'message': 'virtualservices.networking.istio.io "http-mg-mread-vs" not found', 'reason': 'NotFound', 'details': {'name': 'http-mg-mread-vs', 'group': 'networking.istio.io', 'kind': 'virtualservices'}, 'code': 404}
[32m[2021-04-21 19:43:02 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 19:43:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 19:43:11 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:16 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 19:43:16 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 19:43:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:43:16 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:20 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:20 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:43:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:43:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '36', 'date': 'Wed, 21 Apr 2021 17:43:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:43:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:29 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:43:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:43:32 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:43:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 17:43:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:43:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:32 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:36 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:43:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:43:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:43:41 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '35', 'date': 'Wed, 21 Apr 2021 17:43:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:43:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:41 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:43:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:43:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:43:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Wed, 21 Apr 2021 17:43:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:43:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:43:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:43:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:43:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:43:59 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 19:44:02 WARNING] [run:390][39m Received a termination signal (Ctrl-C)...
[33m[2021-04-21 19:44:02 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 19:44:02 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 19:44:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 19:44:02 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 19:44:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 19:44:10 WARNING] [run:612][39m Received an exit signal.Terminating now without running the remaining rollbacks.
[32m[2021-04-21 19:44:10 INFO] [run:421][39m Experiment ended with status: interrupted
[36m[2021-04-21 19:44:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 19:44:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:14 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 19:44:14 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 19:44:14 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 19:44:14 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 19:44:19 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 19:44:19 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 19:44:19 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 19:44:23 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 19:44:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 19:44:23 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 19:44:23 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:23 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 19:44:23 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 19:44:23 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 19:44:23 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 19:44:23 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 19:44:23 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 19:44:23 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 19:44:23 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 19:44:23 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 19:44:23 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 19:44:23 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 19:44:23 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 19:44:23 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 19:44:23 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 19:44:23 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 19:44:23 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 19:44:23 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:44:28 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/a03d3a5c-8181-401a-ac82-40cc4ad2fe4f
[36m[2021-04-21 19:44:28 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 19:44:28 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 19:44:28 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 19:44:28 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 19:44:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 19:44:28 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:32 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 19:44:32 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 19:44:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:44:32 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:36 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:44:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:44:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 17:44:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:44:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:44:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:44:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:44:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '31', 'date': 'Wed, 21 Apr 2021 17:44:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:44:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:44:52 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:44:52 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:52 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:44:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:44:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '19', 'date': 'Wed, 21 Apr 2021 17:44:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:44:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:44:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:45:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:00 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:45:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:45:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Wed, 21 Apr 2021 17:45:04 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:45:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:05 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:45:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:45:13 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:45:13 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '38', 'date': 'Wed, 21 Apr 2021 17:45:12 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:45:13 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:13 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:17 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 19:45:17 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 19:45:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:45:17 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:45:21 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 19:45:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 19:45:21 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:45:29 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 19:45:29 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 19:45:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 19:45:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 19:45:32 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '2999', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 17:45:32 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 19:45:32 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 19:45:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:41 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 19:45:41 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:46 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 19:45:46 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 19:45:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:45:46 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:45:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:45:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:45:53 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:46:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 17:46:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:46:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:46:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:46:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:46:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:46:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '11', 'date': 'Wed, 21 Apr 2021 17:46:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:46:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:46:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:46:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:46:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:46:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Wed, 21 Apr 2021 17:46:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:46:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:46:33 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:46:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:33 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:46:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:46:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Wed, 21 Apr 2021 17:46:37 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:46:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:46:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 19:46:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:46:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 19:46:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '29', 'date': 'Wed, 21 Apr 2021 17:46:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 19:46:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:46:49 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 19:46:49 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 19:46:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 19:46:49 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 19:46:54 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 19:46:54 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 19:46:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 19:46:54 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:46:57 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 19:46:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:46:57 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:47:01 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 19:47:01 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 19:47:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 19:47:01 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 19:47:01 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 3, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T17:26:27Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T17:45:29Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '3099', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 17:47:01 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 19:47:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 19:47:01 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:47:05 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 19:47:05 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 19:47:10 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 19:47:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 19:47:10 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 19:47:16 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 19:47:16 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 19:47:16 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 19:47:16 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:45:59 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 20:45:59 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 20:45:59 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 20:45:59 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 20:45:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:45:59 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 20:46:00 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:00 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 20:46:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:46:00 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 20:46:00 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 20:46:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:46:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:46:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:46:00 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 20:46:00 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 20:46:00 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 20:46:00 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 20:46:00 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 20:46:00 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 20:46:00 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 20:46:00 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 20:46:00 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 20:46:00 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:02 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/75189f6c-37c3-4648-b067-325d2ae649f1
[36m[2021-04-21 20:46:02 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 20:46:02 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 20:46:02 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 20:46:02 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 20:46:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:46:02 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:04 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 20:46:04 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:46:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:46:04 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 18:46:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:46:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:10 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 18:46:10 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:12 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:46:12 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:12 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 18:46:13 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:15 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:46:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:17 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Wed, 21 Apr 2021 18:46:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:17 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:17 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:46:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Wed, 21 Apr 2021 18:46:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:46:22 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:46:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:46:22 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:23 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 20:46:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:46:23 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:25 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:27 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 20:46:27 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:46:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:46:27 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:46:28 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 13, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '7043', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:46:28 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 20:46:28 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 20:46:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 20:46:34 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:36 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 20:46:36 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 20:46:36 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:46:36 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:46:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '16', 'date': 'Wed, 21 Apr 2021 18:46:49 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:46:49 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:49 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:46:51 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:46:51 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:46:51 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:46:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:47:02 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Wed, 21 Apr 2021 18:47:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:47:02 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:02 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:47:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:05 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:47:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 18:47:05 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:47:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:07 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:47:07 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:07 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:09 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:47:09 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Wed, 21 Apr 2021 18:47:08 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:47:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:09 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:10 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 20:47:10 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:10 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:12 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 20:47:22 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Wed, 21 Apr 2021 18:47:22 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 20:47:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:22 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 20:47:24 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 20:47:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 20:47:24 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 20:47:26 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 20:47:26 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 20:47:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:47:26 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:28 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 20:47:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:29 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 20:47:29 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 20:47:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:47:29 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 20:47:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"4s","retryOn":"5xx,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"60s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 14, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T18:41:19Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T18:42:06Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '7110', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '4s', 'retryOn': '5xx,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '60s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 18:47:29 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 20:47:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 20:47:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 20:47:31 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 20:47:33 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 20:47:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 20:47:33 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 20:47:35 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 20:47:35 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 20:47:35 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 20:47:35 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:24:21 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:24:21 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:24:21 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:24:22 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:24:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:24:22 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:22 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:24:22 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:22 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 21:24:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:24:22 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:24:22 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:24:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:24:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:24:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:24:22 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:24:22 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:24:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:24:22 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:24:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:24:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:24:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:24:22 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 21:24:22 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:24:22 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:25 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/9258c9cb-4846-43bf-991c-cee77934739e
[36m[2021-04-21 21:24:25 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:24:25 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:24:25 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:24:25 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:24:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:24:25 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:26 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:24:26 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:24:26 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:24:26 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:24:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:24:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:24:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:24:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:24:33 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:24:32 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:24:33 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:33 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:34 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:24:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:24:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Wed, 21 Apr 2021 19:24:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:24:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:37 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:24:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:37 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:24:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:24:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:24:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:40 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:24:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:40 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:42 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:24:42 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:24:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:24:42 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:42 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:24:44 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:24:44 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:24:44 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:45 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:24:45 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:24:45 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:47 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:24:49 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 21:24:49 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:24:49 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:24:49 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:24:49 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 23, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:24:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:24:49Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '9616', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:24:49 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:24:49 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:24:54 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:54 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:24:55 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:57 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:24:57 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:24:57 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:24:57 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:24:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:24:59 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:00 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:25:00 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:25:00 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:25:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:00 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:02 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:25:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:25:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '8', 'date': 'Wed, 21 Apr 2021 19:25:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:25:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:25:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:25:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 19:25:06 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:25:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:08 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:25:08 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:08 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:10 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:25:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '25', 'date': 'Wed, 21 Apr 2021 19:25:20 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:25:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:22 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:25:22 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:22 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:24 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:25:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 19:25:24 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:25:24 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:24 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:25 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:25:25 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:25:25 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:25:25 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 21:25:27 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:25:27 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:25:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:25:27 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:29 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 21:25:29 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:29 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:30 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 21:25:30 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:25:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:25:30 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:25:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"60s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 24, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:24:16Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:24:49Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '9668', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '60s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:25:30 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:25:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:25:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:32 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:25:32 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:25:34 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 21:25:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:25:34 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:25:36 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:25:36 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:25:36 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:25:36 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:29:55 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 21:29:55 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 21:29:55 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 21:29:56 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 21:29:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:29:56 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:29:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 21:29:56 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:29:56 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 21:29:56 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:29:56 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 21:29:56 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 21:29:56 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:29:56 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:29:56 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:29:57 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 21:29:57 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 21:29:57 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 21:29:57 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 21:29:57 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 21:29:57 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 21:29:57 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 21:29:57 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 21:29:57 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 21:29:57 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:29:59 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/0b6f01a1-f2fa-4e41-baba-df1260b178cb
[36m[2021-04-21 21:29:59 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 21:29:59 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 21:29:59 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 21:29:59 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 21:29:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:29:59 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:00 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 21:30:00 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:30:00 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:30:00 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:02 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:04 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:04 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 19:30:03 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:04 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:05 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:05 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:05 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:07 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:07 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 19:30:07 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:07 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:09 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:09 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:09 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:11 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:11 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:30:11 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:11 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:11 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:13 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:13 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:14 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:14 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:30:14 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:14 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:14 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:16 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:16 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:16 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:17 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:18 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 19:30:17 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:18 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:18 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:19 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:30:19 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:30:19 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:30:19 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:21 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 21:30:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:30:21 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:23 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:23 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:24 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 21:30:24 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:30:24 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:30:24 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:30:24 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 26, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10001', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:30:24 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 21:30:24 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 21:30:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 21:30:31 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:33 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 21:30:33 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 21:30:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:30:33 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:36 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:30:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:39 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:39 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '14', 'date': 'Wed, 21 Apr 2021 19:30:39 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:39 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:41 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:41 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:41 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:53 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '42', 'date': 'Wed, 21 Apr 2021 19:30:53 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:53 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:53 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:54 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:54 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:54 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:56 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '18', 'date': 'Wed, 21 Apr 2021 19:30:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:30:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 21:30:58 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:58 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:30:59 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 21:30:59 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '22', 'date': 'Wed, 21 Apr 2021 19:30:59 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 21:30:59 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:30:59 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:31:01 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 21:31:01 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 21:31:01 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 21:31:01 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 21:31:03 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 21:31:03 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 21:31:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:31:03 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:31:04 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 21:31:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:31:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:31:06 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 21:31:06 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 21:31:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:31:06 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 21:31:06 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"500,connect-failure"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 27, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T19:29:52Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T19:30:24Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '10048', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '500,connect-failure'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 19:31:06 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 21:31:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 21:31:06 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:31:07 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 21:31:07 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 21:31:09 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 21:31:09 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 21:31:09 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 21:31:11 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 21:31:11 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 21:31:11 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 21:31:11 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:11:20 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-21 23:11:20 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-21 23:11:20 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-21 23:11:21 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-21 23:11:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:11:21 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:21 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-21 23:11:21 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:21 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-21 23:11:21 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:11:21 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-21 23:11:21 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-21 23:11:21 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:11:21 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:11:21 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:11:22 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-21 23:11:22 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-21 23:11:22 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-21 23:11:22 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-21 23:11:22 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-21 23:11:22 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-21 23:11:22 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-21 23:11:22 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-21 23:11:22 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-21 23:11:22 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:25 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/78bdd773-3cf6-4487-8a69-28ede7126145
[36m[2021-04-21 23:11:25 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-21 23:11:25 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-21 23:11:25 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-21 23:11:25 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-21 23:11:25 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:11:25 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:27 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-21 23:11:27 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:11:27 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:11:27 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:30 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:11:30 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 21:11:30 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:11:30 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:30 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:32 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:11:32 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:32 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:34 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:11:34 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '6', 'date': 'Wed, 21 Apr 2021 21:11:33 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:11:34 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:34 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:35 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:11:35 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:35 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:37 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:11:37 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 21:11:36 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:11:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:37 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:38 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:11:38 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:38 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:40 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:11:40 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '15', 'date': 'Wed, 21 Apr 2021 21:11:40 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:11:40 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:40 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:42 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:11:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:42 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:43 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:11:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Wed, 21 Apr 2021 21:11:43 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:11:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:45 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 23:11:45 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 23:11:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:11:45 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:47 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-21 23:11:47 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:11:47 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:49 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:49 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:11:51 INFO] [activity:161][39m Action: delay
[36m[2021-04-21 23:11:51 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:11:51 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:11:51 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:11:51 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 44, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '16781', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'fault': {'delay': {'fixedDelay': '10s', 'percentage': {'value': 50}}}, 'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:11:51 GMT', 'Transfer-Encoding': 'chunked'}}'
[32m[2021-04-21 23:11:51 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-21 23:11:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:11:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:57 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-21 23:11:57 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:11:59 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-21 23:11:59 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-21 23:11:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:11:59 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:12:03 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:12:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 21:12:02 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:12:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:04 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:12:04 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:04 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:12:06 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:12:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '21', 'date': 'Wed, 21 Apr 2021 21:12:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:12:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:12:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:12:19 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:12:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '9', 'date': 'Wed, 21 Apr 2021 21:12:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:12:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:12:31 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:31 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:12:33 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:12:43 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '23', 'date': 'Wed, 21 Apr 2021 21:12:42 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:12:43 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:43 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:44 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-21 23:12:44 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:44 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:12:46 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-21 23:12:56 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Wed, 21 Apr 2021 21:12:56 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-21 23:12:56 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:12:56 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:12:58 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-21 23:12:58 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-21 23:12:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-21 23:12:58 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-21 23:12:59 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-21 23:12:59 INFO] [run:809][39m Let's rollback...
[36m[2021-04-21 23:12:59 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:12:59 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:13:01 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-21 23:13:01 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:13:01 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:13:03 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-21 23:13:03 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-21 23:13:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:13:03 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-21 23:13:03 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"http-mg-mread-vs","namespace":"default"},"spec":{"gateways":["ingress-gateway"],"hosts":["*"],"http":[{"match":[{"uri":{"prefix":"/mg"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"mg-v1.default.svc.cluster.local","port":{"number":8081},"subset":"primary"}}],"timeout":"30s"},{"match":[{"uri":{"prefix":"/read"}}],"retries":{"attempts":15,"perTryTimeout":"2s","retryOn":"5xx,connect-failure,gateway-error"},"rewrite":{"uri":" "},"route":[{"destination":{"host":"ms-read.default.svc.cluster.local","port":{"number":8088},"subset":"primary"}}],"timeout":"30s"}]}}\n'}, 'creationTimestamp': '2021-04-21T17:26:27Z', 'generation': 45, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:gateways': {}, 'f:hosts': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-21T20:57:57Z'}, {'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:spec': {'f:http': {}}}, 'manager': 'OpenAPI-Generator', 'operation': 'Update', 'time': '2021-04-21T20:58:44Z'}], 'name': 'http-mg-mread-vs', 'namespace': 'default', 'resourceVersion': '16863', 'uid': 'c3c73afa-2ba1-4f69-b70e-89409cf8e436'}, 'spec': {'gateways': ['ingress-gateway'], 'hosts': ['*'], 'http': [{'match': [{'uri': {'prefix': '/mg'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'mg-v1.default.svc.cluster.local', 'port': {'number': 8081}, 'subset': 'primary'}}], 'timeout': '30s'}, {'match': [{'uri': {'prefix': '/read'}}], 'retries': {'attempts': 15, 'perTryTimeout': '2s', 'retryOn': '5xx,connect-failure,gateway-error'}, 'rewrite': {'uri': ' '}, 'route': [{'destination': {'host': 'ms-read.default.svc.cluster.local', 'port': {'number': 8088}, 'subset': 'primary'}}], 'timeout': '30s'}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'dd2c224a-d643-4d56-bfd2-be54e32cb2b0', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'c6f378ea-85ad-4335-8433-c8478bddfb41', 'Date': 'Wed, 21 Apr 2021 21:13:03 GMT', 'Transfer-Encoding': 'chunked'}}'
[36m[2021-04-21 23:13:03 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-21 23:13:03 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:13:04 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-21 23:13:04 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-21 23:13:06 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-21 23:13:06 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-21 23:13:06 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-21 23:13:09 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-21 23:13:09 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-21 23:13:09 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-21 23:13:09 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:39:37 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-26 21:39:37 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-26 21:39:37 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-26 21:39:37 DEBUG] [__init__:167][39m Loading global control 'chaosiq-cloud'
[36m[2021-04-26 21:39:37 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:39:37 DEBUG] [python:166][39m Control 'before_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:38 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'loader'
[36m[2021-04-26 21:39:38 DEBUG] [python:166][39m Control 'after_loading_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:38 DEBUG] [controls:109][39m Using experiment ID 48147c31-72ab-4256-812d-8a1f8d3e28a3 from workspace for experiment at location delay-mg.yaml
[36m[2021-04-26 21:39:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:39:38 DEBUG] [caching:35][39m Cached 2 activities
[32m[2021-04-26 21:39:38 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-26 21:39:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:39:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:39:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:39:38 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-26 21:39:38 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-26 21:39:38 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-26 21:39:38 DEBUG] [caching:35][39m Cached 2 activities
[36m[2021-04-26 21:39:38 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-26 21:39:38 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-26 21:39:38 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-26 21:39:38 INFO] [run:323][39m Running experiment: What happens if we abort and delay responses
[36m[2021-04-26 21:39:38 DEBUG] [__init__:136][39m Initializing global control 'chaosiq-cloud'
[36m[2021-04-26 21:39:38 DEBUG] [python:166][39m Control 'configure_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:40 INFO] [execution:64][39m Execution available at http://console.chaosiq.io/tfm/luisreciomelero/executions/4ae1065a-58c8-41ad-a6e4-7f97eed011ec
[36m[2021-04-26 21:39:40 DEBUG] [workspace:108][39m Saving workspace at .chaosiq
[36m[2021-04-26 21:39:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-26 21:39:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-26 21:39:40 INFO] [run:345][39m Rollbacks strategy: always
[36m[2021-04-26 21:39:40 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:39:40 DEBUG] [python:166][39m Control 'before_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:42 DEBUG] [run:466][39m Running steady-state hypothesis before the method
[32m[2021-04-26 21:39:42 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:39:42 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:39:42 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:43 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:43 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:45 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:39:45 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Mon, 26 Apr 2021 19:39:45 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:39:45 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:45 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:46 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:39:46 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:46 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:48 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:39:48 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '12', 'date': 'Mon, 26 Apr 2021 19:39:48 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:39:48 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:48 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:50 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:39:50 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:50 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:52 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:39:52 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '17', 'date': 'Mon, 26 Apr 2021 19:39:51 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:39:52 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:52 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:53 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:39:53 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:53 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:55 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:39:55 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '32', 'date': 'Mon, 26 Apr 2021 19:39:55 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:39:55 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:55 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:39:56 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:39:56 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:56 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:39:58 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:39:58 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '27', 'date': 'Mon, 26 Apr 2021 19:39:58 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:39:58 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:39:58 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:00 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:40:00 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:40:00 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:40:00 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:02 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-26 21:40:02 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:40:02 DEBUG] [python:166][39m Control 'before_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:03 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:03 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:05 INFO] [activity:161][39m Action: delay
[36m[2021-04-26 21:40:05 DEBUG] [python:34][39m Activity 'delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:40:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:40:05 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:40:05 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-v1-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:53Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:53Z'}], 'name': 'mg-v1-vs', 'namespace': 'default', 'resourceVersion': '3504', 'uid': '14949f29-652e-4db8-8951-371976c9fe8f'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:40:05 GMT', 'Content-Length': '1081'}}'
[32m[2021-04-26 21:40:05 INFO] [activity:198][39m Pausing after activity for 5s...
[36m[2021-04-26 21:40:10 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:10 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:12 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'method'
[36m[2021-04-26 21:40:12 DEBUG] [python:166][39m Control 'after_method_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:13 DEBUG] [run:496][39m Running steady-state hypothesis after the method
[32m[2021-04-26 21:40:13 INFO] [hypothesis:183][39m Steady state hypothesis: The app is healthy
[36m[2021-04-26 21:40:13 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:40:13 DEBUG] [python:166][39m Control 'before_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:15 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:15 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:16 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:40:16 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '28', 'date': 'Mon, 26 Apr 2021 19:40:16 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:40:16 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:16 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:18 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:40:18 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:18 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:20 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:40:20 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '26', 'date': 'Mon, 26 Apr 2021 19:40:19 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:40:20 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:20 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:21 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:40:21 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:21 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:23 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:40:23 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '24', 'date': 'Mon, 26 Apr 2021 19:40:23 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:40:23 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:23 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:24 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:40:24 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:24 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:26 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:40:26 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '7', 'date': 'Mon, 26 Apr 2021 19:40:26 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:40:26 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:26 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:28 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[36m[2021-04-26 21:40:28 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:28 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:29 INFO] [activity:161][39m Probe: app-responds-to-requests
[36m[2021-04-26 21:40:29 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'headers': {'content-type': 'application/json; charset=UTF-8', 'content-length': '1284', 'x-envoy-upstream-service-time': '10', 'date': 'Mon, 26 Apr 2021 19:40:29 GMT', 'server': 'istio-envoy'}, 'body': '\n{\n    "status": "UP",\n    "checks": [\n        {\n            "name": "Liveness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - liveness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        },\n        {\n            "name": "Database connections health check",\n            "status": "UP"\n        },\n        {\n            "name": "Readiness check",\n            "status": "UP"\n        },\n        {\n            "name": "SmallRye Reactive Messaging - readiness check",\n            "status": "UP",\n            "data": {\n                "usuarios-delete": "[OK]",\n                "usuarios-sendemail": "[OK]",\n                "usuarios-sendnotification": "[OK]",\n                "usuarios-create": "[OK]",\n                "handlednotification-usuarios": "[OK]",\n                "usuarios-update": "[OK]",\n                "usuarios-sendsms": "[OK]"\n            }\n        }\n    ]\n}'}'
[36m[2021-04-26 21:40:29 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:29 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:31 DEBUG] [hypothesis:211][39m allowed tolerance is 200
[32m[2021-04-26 21:40:31 INFO] [hypothesis:221][39m Steady state hypothesis is met!
[36m[2021-04-26 21:40:31 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'hypothesis'
[36m[2021-04-26 21:40:31 DEBUG] [python:166][39m Control 'after_hypothesis_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[33m[2021-04-26 21:40:33 WARNING] [run:580][39m Rollbacks were explicitly requested to be played
[32m[2021-04-26 21:40:33 INFO] [run:809][39m Let's rollback...
[36m[2021-04-26 21:40:33 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:40:33 DEBUG] [python:166][39m Control 'before_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:34 INFO] [rollback:28][39m Rollback: remove-delay
[36m[2021-04-26 21:40:34 DEBUG] [__init__:365][39m Applying before-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:34 DEBUG] [python:166][39m Control 'before_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:36 INFO] [activity:161][39m Action: remove-delay
[36m[2021-04-26 21:40:36 DEBUG] [python:34][39m Activity 'remove-delay' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosistio/fault/actions.py'
[36m[2021-04-26 21:40:36 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:40:36 DEBUG] [__init__:67][39m Using Kubernetes context: default
[36m[2021-04-26 21:40:36 DEBUG] [activity:180][39m   => succeeded with '{'status': 200, 'body': {'apiVersion': 'networking.istio.io/v1alpha3', 'kind': 'VirtualService', 'metadata': {'annotations': {'kubectl.kubernetes.io/last-applied-configuration': '{"apiVersion":"networking.istio.io/v1alpha3","kind":"VirtualService","metadata":{"annotations":{},"name":"mg-v1-vs","namespace":"default"},"spec":{"hosts":["mg-v1"],"http":[{"route":[{"destination":{"host":"mg-v1","port":{"number":8081},"subset":"primary"}}]}]}}\n'}, 'creationTimestamp': '2021-04-26T19:12:53Z', 'generation': 2, 'managedFields': [{'apiVersion': 'networking.istio.io/v1alpha3', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:kubectl.kubernetes.io/last-applied-configuration': {}}}, 'f:spec': {'.': {}, 'f:hosts': {}, 'f:http': {}}}, 'manager': 'kubectl-client-side-apply', 'operation': 'Update', 'time': '2021-04-26T19:12:53Z'}], 'name': 'mg-v1-vs', 'namespace': 'default', 'resourceVersion': '3504', 'uid': '14949f29-652e-4db8-8951-371976c9fe8f'}, 'spec': {'hosts': ['mg-v1'], 'http': [{'route': [{'destination': {'host': 'mg-v1', 'port': {'number': 8081}, 'subset': 'primary'}}]}]}}, 'headers': {'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': 'ca338ed9-6f9e-4cbe-97a8-df98999be000', 'X-Kubernetes-Pf-Prioritylevel-Uid': 'b23d468f-1284-456c-b90c-415700e009a5', 'Date': 'Mon, 26 Apr 2021 19:40:36 GMT', 'Content-Length': '1081'}}'
[36m[2021-04-26 21:40:36 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'activity'
[36m[2021-04-26 21:40:36 DEBUG] [python:166][39m Control 'after_activity_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:37 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'rollback'
[36m[2021-04-26 21:40:37 DEBUG] [python:166][39m Control 'after_rollback_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[32m[2021-04-26 21:40:39 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-26 21:40:39 DEBUG] [__init__:365][39m Applying after-control 'chaosiq-cloud' on 'experiment'
[36m[2021-04-26 21:40:39 DEBUG] [python:166][39m Control 'after_experiment_control' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py'
[36m[2021-04-26 21:40:42 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-26 21:40:42 DEBUG] [__init__:188][39m Cleaning up global control 'chaosiq-cloud'
[36m[2021-04-26 21:40:42 DEBUG] [python:159][39m Control module '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoscloud/controls.py' does not declare 'cleanup_control'
[36m[2021-04-26 21:40:42 DEBUG] [caching:42][39m Clearing activities cache
