[36m[2021-04-11 16:10:38 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-11 16:10:38 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-11 16:10:38 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-11 16:10:39 DEBUG] [settings:26][39m The Chaos Toolkit settings file could not be found at '/home/luisreciomelero/.chaostoolkit/settings.yaml'.
[36m[2021-04-11 16:10:39 DEBUG] [__init__:355][39m No controls to apply on 'loader'
[36m[2021-04-11 16:10:39 DEBUG] [__init__:355][39m No controls to apply on 'loader'
[36m[2021-04-11 16:10:39 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-11 16:10:39 DEBUG] [caching:35][39m Cached 1 activities
[32m[2021-04-11 16:10:39 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-11 16:10:39 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-11 16:10:39 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-11 16:10:39 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-11 16:10:40 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-11 16:10:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-11 16:10:40 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-11 16:10:40 DEBUG] [caching:35][39m Cached 1 activities
[36m[2021-04-11 16:10:40 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-11 16:10:40 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-11 16:10:40 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-11 16:10:40 INFO] [run:323][39m Running experiment: Â¿QuÃ© ocurre cuando eliminamos el deployment que gestiona el microservicio create?
[36m[2021-04-11 16:10:40 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-11 16:10:40 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-11 16:10:40 INFO] [run:345][39m Rollbacks strategy: default
[32m[2021-04-11 16:10:40 INFO] [run:350][39m No steady state hypothesis defined. That's ok, just exploring.
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'experiment'
[32m[2021-04-11 16:10:40 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'method'
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'activity'
[32m[2021-04-11 16:10:40 INFO] [activity:161][39m Action: create-deployment
[36m[2021-04-11 16:10:40 DEBUG] [python:34][39m Activity 'create-deployment' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py'
[36m[2021-04-11 16:10:40 DEBUG] [__init__:65][39m Using Kubernetes context: default
[36m[2021-04-11 16:10:40 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py", line 29, in create_deployment
        deployment = yaml.load(f.read())
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/__init__.py", line 114, in load
        return loader.get_single_data()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/constructor.py", line 49, in get_single_data
        node = self.get_single_node()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/composer.py", line 41, in get_single_node
        raise ComposerError("expected a single document in the stream",
    yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py", line 29, in create_deployment
        deployment = yaml.load(f.read())
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/__init__.py", line 114, in load
        return loader.get_single_data()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/constructor.py", line 49, in get_single_data
        node = self.get_single_node()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/composer.py", line 41, in get_single_node
        raise ComposerError("expected a single document in the stream",
    chaoslib.exceptions.ActivityFailed: yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
[31m[2021-04-11 16:10:40 ERROR] [activity:188][39m   => failed: yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'activity'
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'method'
[32m[2021-04-11 16:10:40 INFO] [run:809][39m Let's rollback...
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'rollback'
[32m[2021-04-11 16:10:40 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'rollback'
[32m[2021-04-11 16:10:40 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-11 16:10:40 DEBUG] [__init__:355][39m No controls to apply on 'experiment'
[36m[2021-04-11 16:10:40 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-11 16:10:40 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-11 16:15:04 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-11 16:15:04 DEBUG] [cli:74][39m Running command 'run'
[36m[2021-04-11 16:15:04 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-11 16:15:05 DEBUG] [settings:26][39m The Chaos Toolkit settings file could not be found at '/home/luisreciomelero/.chaostoolkit/settings.yaml'.
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'loader'
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'loader'
[36m[2021-04-11 16:15:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-11 16:15:05 DEBUG] [caching:35][39m Cached 1 activities
[32m[2021-04-11 16:15:05 INFO] [experiment:47][39m Validating the experiment's syntax
[36m[2021-04-11 16:15:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-11 16:15:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-11 16:15:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-11 16:15:05 INFO] [experiment:96][39m Experiment looks valid
[36m[2021-04-11 16:15:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-11 16:15:05 DEBUG] [caching:25][39m Building activity cache...
[36m[2021-04-11 16:15:05 DEBUG] [caching:35][39m Cached 1 activities
[36m[2021-04-11 16:15:05 DEBUG] [configuration:54][39m Loading configuration...
[36m[2021-04-11 16:15:05 DEBUG] [secret:75][39m Loading secrets...
[36m[2021-04-11 16:15:05 DEBUG] [secret:92][39m Secrets loaded
[32m[2021-04-11 16:15:05 INFO] [run:323][39m Running experiment: Â¿QuÃ© ocurre cuando eliminamos el deployment que gestiona el microservicio create?
[36m[2021-04-11 16:15:05 DEBUG] [__init__:39][39m Initializing controls
[32m[2021-04-11 16:15:05 INFO] [run:342][39m Steady-state strategy: default
[32m[2021-04-11 16:15:05 INFO] [run:345][39m Rollbacks strategy: default
[32m[2021-04-11 16:15:05 INFO] [run:350][39m No steady state hypothesis defined. That's ok, just exploring.
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'experiment'
[32m[2021-04-11 16:15:05 INFO] [run:553][39m Playing your experiment's method now...
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'method'
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'activity'
[32m[2021-04-11 16:15:05 INFO] [activity:161][39m Action: create-deployment
[36m[2021-04-11 16:15:05 DEBUG] [python:34][39m Activity 'create-deployment' loaded from '/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py'
[36m[2021-04-11 16:15:05 DEBUG] [__init__:65][39m Using Kubernetes context: default
[36m[2021-04-11 16:15:05 DEBUG] [activity:235][39m Activity failed
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py", line 29, in create_deployment
        deployment = yaml.load(f.read())
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/__init__.py", line 114, in load
        return loader.get_single_data()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/constructor.py", line 49, in get_single_data
        node = self.get_single_node()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/composer.py", line 41, in get_single_node
        raise ComposerError("expected a single document in the stream",
    yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/activity.py", line 228, in run_activity
        result = run_python_activity(activity, configuration, secrets)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 57, in run_python_activity
        raise ActivityFailed(
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaoslib/provider/python.py", line 55, in run_python_activity
        return func(**arguments)
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/chaosk8s/deployment/actions.py", line 29, in create_deployment
        deployment = yaml.load(f.read())
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/__init__.py", line 114, in load
        return loader.get_single_data()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/constructor.py", line 49, in get_single_data
        node = self.get_single_node()
      File "/home/luisreciomelero/.local/lib/python3.8/site-packages/yaml/composer.py", line 41, in get_single_node
        raise ComposerError("expected a single document in the stream",
    chaoslib.exceptions.ActivityFailed: yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
[31m[2021-04-11 16:15:05 ERROR] [activity:188][39m   => failed: yaml.composer.ComposerError: expected a single document in the stream
      in "<unicode string>", line 2, column 1:
        apiVersion: apps/v1
        ^
    but found another document
      in "<unicode string>", line 52, column 1:
        ---
        ^
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'activity'
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'method'
[32m[2021-04-11 16:15:05 INFO] [run:809][39m Let's rollback...
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'rollback'
[32m[2021-04-11 16:15:05 INFO] [rollback:25][39m No declared rollbacks, let's move on.
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'rollback'
[32m[2021-04-11 16:15:05 INFO] [run:421][39m Experiment ended with status: completed
[36m[2021-04-11 16:15:05 DEBUG] [__init__:355][39m No controls to apply on 'experiment'
[36m[2021-04-11 16:15:05 DEBUG] [__init__:72][39m Cleaning up controls
[36m[2021-04-11 16:15:05 DEBUG] [caching:42][39m Clearing activities cache
[36m[2021-04-18 21:01:23 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:01:23 DEBUG] [cli:74][39m Running command 'init'
[36m[2021-04-18 21:01:23 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:03:22 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:03:22 DEBUG] [cli:74][39m Running command 'init'
[36m[2021-04-18 21:03:22 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[36m[2021-04-18 21:03:48 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:03:48 DEBUG] [cli:74][39m Running command 'discover'
[36m[2021-04-18 21:03:48 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
[32m[2021-04-18 21:03:49 INFO] [package:22][39m Attempting to download and install package 'chaostoolkit-kubernetes'
[36m[2021-04-18 21:03:55 DEBUG] [package:31][39m Defaulting to user installation because normal site-packages is not writeable
    Requirement already satisfied: chaostoolkit-kubernetes in /home/luisreciomelero/.local/lib/python3.8/site-packages (0.25.1)
    Requirement already satisfied: logzero in /home/luisreciomelero/.local/lib/python3.8/site-packages (from chaostoolkit-kubernetes) (1.5.0)
    Requirement already satisfied: chaostoolkit-lib>=0.20.0 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from chaostoolkit-kubernetes) (1.19.0)
    Requirement already satisfied: pyyaml in /home/luisreciomelero/.local/lib/python3.8/site-packages (from chaostoolkit-kubernetes) (5.4.1)
    Requirement already satisfied: kubernetes in /home/luisreciomelero/.local/lib/python3.8/site-packages (from chaostoolkit-kubernetes) (12.0.1)
    Requirement already satisfied: dateparser in /home/luisreciomelero/.local/lib/python3.8/site-packages (from chaostoolkit-kubernetes) (1.0.0)
    Requirement already satisfied: requests~=2.21 in /usr/lib/python3/dist-packages (from chaostoolkit-lib>=0.20.0->chaostoolkit-kubernetes) (2.22.0)
    Requirement already satisfied: tzlocal in /home/luisreciomelero/.local/lib/python3.8/site-packages (from dateparser->chaostoolkit-kubernetes) (1.5.1)
    Requirement already satisfied: regex!=2019.02.19 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from dateparser->chaostoolkit-kubernetes) (2021.3.17)
    Requirement already satisfied: pytz in /usr/lib/python3/dist-packages (from dateparser->chaostoolkit-kubernetes) (2019.3)
    Requirement already satisfied: python-dateutil in /usr/lib/python3/dist-packages (from dateparser->chaostoolkit-kubernetes) (2.7.3)
    Requirement already satisfied: six>=1.9.0 in /usr/lib/python3/dist-packages (from kubernetes->chaostoolkit-kubernetes) (1.14.0)
    Requirement already satisfied: requests-oauthlib in /home/luisreciomelero/.local/lib/python3.8/site-packages (from kubernetes->chaostoolkit-kubernetes) (1.3.0)
    Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from kubernetes->chaostoolkit-kubernetes) (0.58.0)
    Requirement already satisfied: urllib3>=1.24.2 in /usr/lib/python3/dist-packages (from kubernetes->chaostoolkit-kubernetes) (1.25.8)
    Requirement already satisfied: google-auth>=1.0.1 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from kubernetes->chaostoolkit-kubernetes) (1.28.0)
    Requirement already satisfied: setuptools>=21.0.0 in /usr/lib/python3/dist-packages (from kubernetes->chaostoolkit-kubernetes) (45.2.0)
    Requirement already satisfied: certifi>=14.05.14 in /usr/lib/python3/dist-packages (from kubernetes->chaostoolkit-kubernetes) (2019.11.28)
    Requirement already satisfied: cachetools<5.0,>=2.0.0 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from google-auth>=1.0.1->kubernetes->chaostoolkit-kubernetes) (4.2.1)
    Requirement already satisfied: rsa<5,>=3.1.4 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from google-auth>=1.0.1->kubernetes->chaostoolkit-kubernetes) (4.5)
    Requirement already satisfied: pyasn1-modules>=0.2.1 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from google-auth>=1.0.1->kubernetes->chaostoolkit-kubernetes) (0.2.8)
    Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /home/luisreciomelero/.local/lib/python3.8/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes->chaostoolkit-kubernetes) (0.4.8)
    Requirement already satisfied: oauthlib>=3.0.0 in /usr/lib/python3/dist-packages (from requests-oauthlib->kubernetes->chaostoolkit-kubernetes) (3.1.0)
    
[32m[2021-04-18 21:03:55 INFO] [package:40][39m Package downloaded and installed in current environment
[32m[2021-04-18 21:03:57 INFO] [__init__:117][39m Discovering capabilities from chaostoolkit-kubernetes
[32m[2021-04-18 21:03:57 INFO] [discover:73][39m Searching for actions in chaosk8s.actions
[32m[2021-04-18 21:03:57 INFO] [discover:81][39m Searching for probes in chaosk8s.probes
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Tuple[typing.Dict[str, typing.Any], typing.Dict[str, typing.Any]]' could not be ported to something meaningful
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[bool, NoneType]' could not be ported to something meaningful
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[str, NoneType]' could not be ported to something meaningful
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.deployment.actions
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.deployment.probes
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[bool, NoneType]' could not be ported to something meaningful
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[bool, NoneType]' could not be ported to something meaningful
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[bool, NoneType]' could not be ported to something meaningful
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.node.actions
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m '<class 'kubernetes.client.models.v1_node.V1Node'>' could not be ported to something meaningful
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.node.probes
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.pod.actions
[32m[2021-04-18 21:03:58 INFO] [discover:81][39m Searching for probes in chaosk8s.pod.probes
[36m[2021-04-18 21:03:58 DEBUG] [discover:181][39m 'typing.Union[str, NoneType]' could not be ported to something meaningful
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.replicaset.actions
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.service.actions
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.service.probes
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.statefulset.actions
[32m[2021-04-18 21:03:58 INFO] [discover:81][39m Searching for probes in chaosk8s.statefulset.probes
[32m[2021-04-18 21:03:58 INFO] [discover:73][39m Searching for actions in chaosk8s.crd.actions
[32m[2021-04-18 21:03:58 INFO] [discover:81][39m Searching for probes in chaosk8s.crd.probes
[32m[2021-04-18 21:03:58 INFO] [cli:449][39m Discovery outcome saved in ./discovery.json
[36m[2021-04-18 21:04:08 DEBUG] [cli:73][39m ###############################################################################
[36m[2021-04-18 21:04:08 DEBUG] [cli:74][39m Running command 'init'
[36m[2021-04-18 21:04:08 DEBUG] [cli:78][39m Using settings file '/home/luisreciomelero/.chaostoolkit/settings.yaml'
